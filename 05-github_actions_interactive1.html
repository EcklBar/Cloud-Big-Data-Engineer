<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive GitHub Actions Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInDown 1s ease-out;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 10px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 20px;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 15px;
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            transform: translateY(0);
            opacity: 1;
            transition: all 0.6s ease;
            backdrop-filter: blur(20px);
        }

        .section.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .section-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #34495e, #2980b9);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .time-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .section-content {
            padding: 30px;
            display: none;
            animation: slideDown 0.5s ease;
        }

        .section.active .section-content {
            display: block;
        }

        .component-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .component-card:hover {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .component-title {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .component-description {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .workflow-diagram {
            background: #1e1e1e;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
        }

        .workflow-step {
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .workflow-step:hover {
            background: rgba(52, 152, 219, 0.4);
            transform: scale(1.05);
        }

        .assembly-line {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .assembly-step {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 150px;
        }

        .assembly-step:hover {
            transform: translateY(-10px) rotate(2deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .interactive-example {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #45a049, #4CAF50);
        }

        .expandable {
            cursor: pointer;
        }

        .expandable::after {
            content: ' ▼';
            transition: transform 0.3s ease;
        }

        .expandable.expanded::after {
            transform: rotate(180deg);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 1000px;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #4299e1;
        }

        .highlight {
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 3s infinite;
        }

        .warning-box {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .quiz-option {
            background: rgba(52, 152, 219, 0.1);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background: rgba(52, 152, 219, 0.2);
        }
        
        .quiz-option.correct {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
        }
        
        .quiz-option.incorrect {
            background: rgba(244, 67, 54, 0.3);
            border-color: #f44336;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .assembly-line {
                flex-direction: column;
            }
            
            .assembly-step {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 GitHub Actions</h1>
            <p>Master CI/CD with Interactive Learning</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🎬 Introduction to GitHub Actions</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h2>Welcome to GitHub Actions! 🎉</h2>
                    <p>Get ready to learn the most popular CI/CD platform that will revolutionize your development workflow!</p>
                </div>
                <button class="btn" onclick="startLearning()">🚀 Start Learning Journey</button>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🔍 What is GitHub Actions?</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">GitHub Actions (GHA) Definition</div>
                    <div class="component-description">
                        GitHub Actions is a <strong>built-in automation and CI/CD system</strong> provided by GitHub that allows you to automate your build, test, and deployment pipeline directly within your GitHub repositories.
                    </div>
                </div>
                
                <div class="interactive-example">
                    <h3>💡 Key Concept: Pipeline</h3>
                    <p>A pipeline is a sequence of interconnected steps or stages that represent the flow of work and data in a software development or deployment process.</p>
                    <button class="btn" onclick="showPipelineExample()">View Pipeline Example</button>
                </div>

                <div id="pipelineExample" style="display: none;">
                    <div class="code-block">
Pipeline Flow: Code → Build → Test → Deploy → Monitor
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🏭 Assembly Line Analogy</div>
            </div>
            <div class="section-content">
                <h3>🚗 Car Assembly Line vs GitHub Actions</h3>
                <div class="assembly-line">
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🔧 Engine</h4>
                        <p>Attach Engine</p>
                        <small>≈ Code Building</small>
                    </div>
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🎨 Paint</h4>
                        <p>Paint Car</p>
                        <small>≈ Code Testing</small>
                    </div>
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🏁 Final</h4>
                        <p>Quality Check</p>
                        <small>≈ Deployment</small>
                    </div>
                </div>
                
                <div class="highlight">
                    <p><strong>Just like a car assembly line</strong>, GitHub Actions automates software development with seamless, efficient steps that follow a specific order!</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">⚡ Events - The Trigger</div>
            </div>
            <div class="section-content">
                <div class="component-card" onclick="animateCard(this)">
                    <div class="component-title">🎯 What is an Event?</div>
                    <div class="component-description">
                        An event is a particular action within a repository that initiates the execution of a workflow.
                    </div>
                </div>

                <h3>📋 Common GitHub Events:</h3>
                <div class="workflow-diagram">
                    <div class="workflow-step" onclick="triggerEvent('push')">📤 Push Commit</div>
                    <div class="workflow-step" onclick="triggerEvent('pr')">🔄 Open Pull Request</div>
                    <div class="workflow-step" onclick="triggerEvent('issue')">📝 Create Issue</div>
                </div>

                <div id="eventResult" style="display: none; margin-top: 20px;">
                    <div class="highlight">
                        <h4>🎊 Event Triggered!</h4>
                        <p id="eventMessage"></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">⚙️ Workflows - The Orchestrator</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">🗂️ Workflow Definition</div>
                    <div class="component-description">
                        A workflow is a customizable automated process that executes one or multiple jobs. Workflows are specified in YAML files stored in your repository.
                    </div>
                </div>

                <div class="code-block">
📁 Repository Structure:
.github/
  └── workflows/
      ├── build-and-test.yml
      ├── deploy.yml
      └── label-issues.yml
                </div>

                <h3>🎯 Workflow Examples:</h3>
                <div class="assembly-line">
                    <div class="assembly-step">
                        <h4>🔨 Build & Test</h4>
                        <p>Pull Requests</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🚀 Deploy</h4>
                        <p>Each Release</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🏷️ Label</h4>
                        <p>New Issues</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🔧 Steps and Actions</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">👣 Steps</div>
                    <div class="component-description">
                        Individual units of work, executed in order and dependent on the previous step. Each step runs on the same compute machine and can share data.
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">⚡ Actions</div>
                    <div class="component-description">
                        Custom applications that combine complex but frequently repeated tasks specific to the GitHub Actions platform.
                    </div>
                </div>

                <div class="workflow-diagram">
                    <h4>📝 Example Step Sequence:</h4>
                    <div class="workflow-step">1️⃣ Build Application (Compile Code)</div>
                    <div class="workflow-step">2️⃣ Test Application (Run Tests)</div>
                    <div class="workflow-step">3️⃣ Deploy Application (Shell Script)</div>
                </div>

                <div class="highlight">
                    <h4>🎯 Popular Actions Examples:</h4>
                    <p>• Checkout Repository • Comment on Pull Request • Setup Node.js • Deploy to AWS</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🏃 Jobs and Runners</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">💼 Jobs</div>
                    <div class="component-description">
                        A set of steps in a workflow. Each job is independent and can run in parallel, but can be configured to depend on other jobs.
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">🖥️ Runners</div>
                    <div class="component-description">
                        The compute machines where all steps in a single job are executed. Available runners include Ubuntu Linux, Windows, and macOS.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>🔄 Parallel vs Sequential Jobs</h3>
                    <button class="btn" onclick="demonstrateJobs('parallel')">Show Parallel Jobs</button>
                    <button class="btn" onclick="demonstrateJobs('sequential')">Show Sequential Jobs</button>
                </div>

                <div id="jobsDemo" style="display: none;">
                    <div class="workflow-diagram" id="jobsDiagram"></div>
                </div>
            </div>
        </div>

        <!-- Environment Variables and Secrets Section -->
        <div class="section secrets-section">
            <div class="section-header" onclick="toggleSection(this)" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <div class="section-title expandable">🔐 Environment Variables & Secrets</div>
                <div class="time-badge">Security Focus</div>
            </div>
            <div class="section-content">
                <div class="highlight" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <h2>🔒 Secure Configuration Management</h2>
                    <p>Learn to manage environment variables and secrets securely in GitHub Actions workflows</p>
                </div>

                <!-- Context Introduction -->
                <div class="component-card">
                    <div class="component-title">🎯 Understanding GitHub Actions Context</div>
                    <div class="component-description">
                        Context refers to predefined environment variables and data that GitHub provides for each workflow run. These context variables contain information about the repository, workflow, event, and the environment where the workflow is running.
                    </div>
                </div>

                <div class="code-block">
# Context expression syntax:
${{ context_name.property }}

# Common examples:
${{ github.actor }}        # Username who triggered workflow  
${{ env.NODE_VERSION }}    # Environment variable
${{ secrets.API_KEY }}     # Secret value
${{ runner.os }}           # Operating system
                </div>

                <!-- Context Explorer -->
                <div class="interactive-example">
                    <h3>🎮 Context Types Explorer</h3>
                    <button class="btn" onclick="exploreContextTypes()">🔍 Explore Context System</button>
                </div>

                <div id="contextExplorer" style="display: none;">
                    <div class="assembly-line">
                        <div class="assembly-step" onclick="showContextDetails('github')">
                            <h4>🐙 github</h4>
                            <p>Workflow Info</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('env')">
                            <h4>🌍 env</h4>
                            <p>Variables</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('secrets')">
                            <h4>🔐 secrets</h4>
                            <p>Secure Data</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('job')">
                            <h4>💼 job</h4>
                            <p>Job Status</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('runner')">
                            <h4>🖥️ runner</h4>
                            <p>Machine Info</p>
                        </div>
                    </div>
                    
                    <div id="contextDetails" style="display: none;">
                        <div class="component-card">
                            <div class="component-title" id="contextTitle">Context Details</div>
                            <div class="component-description" id="contextDescription">Select a context type above</div>
                            <div id="contextExample" class="code-block" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- Environment Variables -->
                <div class="component-card">
                    <div class="component-title">🌍 Environment Variables</div>
                    <div class="component-description">
                        Variables are stored as plain text and used for non-sensitive data such as compiler flags, usernames, API endpoints, or configuration settings. Variables can be declared at workflow, job, or step level.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>📊 Variable Scope Demonstration</h3>
                    <button class="btn" onclick="showVariableScopes()">🔍 Show Variable Scopes</button>
                </div>

                <div id="variableScopeDemo" style="display: none;">
                    <div class="workflow-diagram">
                        <h4>🎯 Variable Scope Levels:</h4>
                        <div class="workflow-step" onclick="explainScope('workflow')">
                            <strong>Workflow Level:</strong> Available to all jobs
                        </div>
                        <div class="workflow-step" onclick="explainScope('job')">
                            <strong>Job Level:</strong> Available to all steps in job
                        </div>
                        <div class="workflow-step" onclick="explainScope('step')">
                            <strong>Step Level:</strong> Available to specific step only
                        </div>
                    </div>
                    
                    <div id="scopeExample" style="display: none;">
                        <div class="code-block" id="scopeCode"></div>
                    </div>
                </div>

                <!-- Secrets Management -->
                <div class="component-card" style="border-left: 5px solid #e74c3c;">
                    <div class="component-title">🔐 Secrets Management</div>
                    <div class="component-description">
                        Secrets are encrypted in storage and used for sensitive data such as passwords, API keys, or access tokens. GitHub Actions automatically redacts secret values from logs as a security measure.
                    </div>
                </div>

                <div class="warning-box">
                    <h4>⚠️ Critical Security Rule</h4>
                    <p>Never commit secrets to your repository. Always use GitHub's secure secrets storage.</p>
                </div>

                <!-- Secrets Setup Guide -->
                <div class="interactive-example">
                    <h3>🔧 Secret Setup Guide</h3>
                    <button class="btn" onclick="showSecretSetup()">📚 Learn Secret Setup</button>
                </div>

                <div id="secretSetupGuide" style="display: none;">
                    <div class="assembly-line">
                        <div class="assembly-step" onclick="showSetupStep(1)">
                            <h4>🌐 Navigate</h4>
                            <p>Repository Settings</p>
                        </div>
                        <div class="assembly-step" onclick="showSetupStep(2)">
                            <h4>🔒 Security</h4>
                            <p>Secrets Section</p>
                        </div>
                        <div class="assembly-step" onclick="showSetupStep(3)">
                            <h4>➕ Add Secret</h4>
                            <p>New Repository Secret</p>
                        </div>
                        <div class="assembly-step" onclick="showSetupStep(4)">
                            <h4>⚙️ Configure</h4>
                            <p>Name & Value</p>
                        </div>
                    </div>
                    
                    <div id="setupStepDetails" style="display: none;">
                        <div class="component-card">
                            <div class="component-title" id="setupStepTitle">Setup Step</div>
                            <div class="component-description" id="setupStepDescription">Click on a step above for details</div>
                            <div id="setupStepCode" class="code-block" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <!-- GITHUB_TOKEN -->
                <div class="component-card">
                    <div class="component-title">🎫 GITHUB_TOKEN - The Built-in Secret</div>
                    <div class="component-description">
                        The GITHUB_TOKEN secret is automatically provided by GitHub Actions for every workflow run. It allows workflows to authenticate with GitHub API and perform actions like cloning repositories, commenting on issues and pull requests, and updating commit statuses.
                    </div>
                </div>

                <div class="code-block">
# Using GITHUB_TOKEN in workflows
- name: Comment on PR
  uses: actions/github-script@v6
  with:
    github-token: ${{ secrets.GITHUB_TOKEN }}
    script: |
      github.rest.issues.createComment({
        issue_number: context.issue.number,
        owner: context.repo.owner,
        repo: context.repo.repo,
        body: 'Hello from GitHub Actions!'
      })
                </div>

                <!-- Practical Example -->
                <div class="interactive-example">
                    <h3>🤖 Build a PR Comment Bot</h3>
                    <button class="btn" onclick="buildPRBot()">🚀 Create Comment Bot</button>
                </div>

                <div id="prBotBuilder" style="display: none;">
                    <div class="code-block" id="botWorkflowCode">
# Click the button above to build a PR comment bot workflow
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="addBotTrigger()">🎯 Add PR Trigger</button>
                        <button class="btn" onclick="addBotPermissions()">🔐 Add Permissions</button>
                        <button class="btn" onclick="addBotComment()">💬 Add Comment Action</button>
                        <button class="btn" onclick="resetBot()">🔄 Reset</button>
                    </div>
                </div>

                <!-- Security Best Practices -->
                <div class="component-card">
                    <div class="component-title">🛡️ Security Best Practices</div>
                    <div class="component-description">
                        Follow security best practices: never commit secrets to code, use minimal necessary permissions, regularly rotate secrets, and audit secret usage. Use environment-specific secrets for different deployment stages.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>🔍 Security Audit</h3>
                    <button class="btn" onclick="runSecurityCheck()">🛡️ Run Security Check</button>
                </div>

                <div id="securityAudit" style="display: none;">
                    <div class="workflow-diagram">
                        <h4>🔒 Security Checklist:</h4>
                        <div class="workflow-step">
                            <input type="checkbox" id="securityCheck1"> No secrets in repository code
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="securityCheck2"> Using minimal GITHUB_TOKEN permissions
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="securityCheck3"> Secrets have descriptive names
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="securityCheck4"> Regular secret rotation schedule
                        </div>
                    </div>
                    <button class="btn" onclick="validateSecurity()">✅ Validate Security</button>
                    
                    <div id="securityResults" style="display: none;">
                        <div class="highlight">
                            <h4 id="securityScore">Security Results</h4>
                            <p id="securityFeedback">Complete the checklist above</p>
                        </div>
                    </div>
                </div>

                <!-- Quiz -->
                <div class="interactive-example">
                    <h3>🧠 Test Your Knowledge</h3>
                    <button class="btn" onclick="startSecretsQuiz()">🚀 Take Secrets Quiz</button>
                </div>

                <div id="secretsQuiz" style="display: none;">
                    <div class="component-card">
                        <h4 id="secretsQuizQuestion">Question will appear here</h4>
                        <div id="secretsQuizOptions"></div>
                        <button class="btn" onclick="nextSecretsQuestion()" id="secretsNextBtn" style="display: none;">Next Question</button>
                    </div>
                </div>

                <div id="secretsQuizResults" style="display: none;">
                    <div class="highlight">
                        <h3 id="secretsFinalScore">Quiz Complete!</h3>
                        <p id="secretsScoreMessage">Your results will appear here</p>
                        <button class="btn" onclick="startSecretsQuiz()">Retake Quiz</button>
                    </div>
                </div>

                <div class="highlight">
                    <h3>🎊 Congratulations!</h3>
                    <p>You now have comprehensive knowledge of GitHub Actions security, environment variables, and secrets management. You're ready to build secure, production-ready workflows!</p>
                </div>
            </div>
        </div>
    </div>
     
    <script>
        // Global variables
        let secretsQuizIndex = 0;
        let secretsQuizScore = 0;
        let secretsBotComponents = [];

        // Secrets Quiz data
        const secretsQuizData = [
            {
                question: "What is the difference between environment variables and secrets?",
                options: ["No difference", "Variables are encrypted, secrets are not", "Secrets are encrypted, variables are plain text", "Both are always encrypted"],
                correct: 2
            },
            {
                question: "What is GITHUB_TOKEN?",
                options: ["A user-created secret", "An automatically provided secret for API access", "A repository setting", "A workflow trigger"],
                correct: 1
            },
            {
                question: "How should you handle API keys in workflows?",
                options: ["Put them directly in YAML", "Store as repository secrets", "Use environment variables", "Hard-code them"],
                correct: 1
            },
            {
                question: "What happens to secret values in workflow logs?",
                options: ["They are shown in plain text", "They are automatically redacted", "They are base64 encoded", "They cause errors"],
                correct: 1
            }
        ];

        // MAIN TOGGLE FUNCTION
        function toggleSection(header) {
            const section = header.parentElement;
            const allSections = document.querySelectorAll('.section');
            
            allSections.forEach(s => {
                if (s !== section) {
                    s.classList.remove('active');
                    const expandable = s.querySelector('.expandable');
                    if (expandable) {
                        expandable.classList.remove('expanded');
                    }
                }
            });
            
            section.classList.toggle('active');
            const expandable = header.querySelector('.expandable');
            if (expandable) {
                expandable.classList.toggle('expanded');
            }
            
            updateProgress();
        }

        function updateProgress() {
            const activeSections = document.querySelectorAll('.section.active').length;
            const totalSections = document.querySelectorAll('.section').length;
            const progress = (activeSections / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function startLearning() {
            const sections = document.querySelectorAll('.section');
            if (sections.length > 1) {
                toggleSection(sections[1].querySelector('.section-header'));
            }
        }

        function showPipelineExample() {
            const example = document.getElementById('pipelineExample');
            example.style.display = example.style.display === 'none' ? 'block' : 'none';
        }

        function highlightStep(step) {
            step.style.transform = 'scale(1.1) rotate(5deg)';
            setTimeout(() => step.style.transform = 'scale(1)', 1000);
        }

        function animateCard(card) {
            card.style.transform = 'scale(1.05)';
            setTimeout(() => card.style.transform = 'scale(1)', 500);
        }

        function triggerEvent(eventType) {
            const messages = {
                'push': 'Push event triggered! Workflow will now build and test your code.',
                'pr': 'Pull Request opened! Workflow will review and validate changes.',
                'issue': 'Issue created! Workflow will automatically add labels.'
            };
            
            document.getElementById('eventMessage').textContent = messages[eventType];
            document.getElementById('eventResult').style.display = 'block';
            setTimeout(() => document.getElementById('eventResult').style.display = 'none', 3000);
        }

        function demonstrateJobs(type) {
            const diagram = document.getElementById('jobsDiagram');
            
            if (type === 'parallel') {
                diagram.innerHTML = `
                    <h4>🔄 Parallel Jobs Execution:</h4>
                    <div style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                        <div class="workflow-step">Job 1: Build</div>
                        <div class="workflow-step">Job 2: Test</div>
                        <div class="workflow-step">Job 3: Lint</div>
                    </div>
                    <p style="color: #4CAF50; margin-top: 15px;">✅ All jobs run simultaneously!</p>
                `;
            } else {
                diagram.innerHTML = `
                    <h4>⏭️ Sequential Jobs Execution:</h4>
                    <div class="workflow-step">Job 1: Build</div>
                    <div style="text-align: center; color: #ccc;">⬇️</div>
                    <div class="workflow-step">Job 2: Test (depends on Job 1)</div>
                    <div style="text-align: center; color: #ccc;">⬇️</div>
                    <div class="workflow-step">Job 3: Deploy (depends on Job 2)</div>
                    <p style="color: #ff9800; margin-top: 15px;">⏳ Jobs run one after another!</p>
                `;
            }
            
            document.getElementById('jobsDemo').style.display = 'block';
        }

        // ===== SECRETS SECTION FUNCTIONS =====

        // Context explorer functionality
        function exploreContextTypes() {
            const explorer = document.getElementById('contextExplorer');
            explorer.style.display = explorer.style.display === 'none' ? 'block' : 'none';
        }

        function showContextDetails(contextType) {
            const details = document.getElementById('contextDetails');
            const title = document.getElementById('contextTitle');
            const description = document.getElementById('contextDescription');
            const example = document.getElementById('contextExample');
            
            const contexts = {
                github: {
                    title: '🐙 GitHub Context',
                    description: 'Contains information about the workflow run and the event that triggered it.',
                    example: `# GitHub context examples:
${{ github.actor }}          # Username who triggered the workflow
${{ github.repository }}     # Repository name (owner/repo)
${{ github.ref }}           # Branch or tag ref that triggered workflow
${{ github.sha }}           # Commit SHA that triggered workflow
${{ github.event_name }}    # Name of event (push, pull_request, etc.)`
                },
                env: {
                    title: '🌍 Environment Variables',
                    description: 'Access to environment variables set at workflow, job, or step level.',
                    example: `# Environment variables examples:
env:
  NODE_VERSION: '18'
  API_URL: 'https://api.example.com'

steps:
  - name: Use environment variables
    run: |
      echo "Node version: ${{ env.NODE_VERSION }}"
      echo "API URL: ${{ env.API_URL }}"`
                },
                secrets: {
                    title: '🔐 Secrets Context',
                    description: 'Access to encrypted secrets stored in repository settings.',
                    example: `# Secrets context examples:
${{ secrets.API_KEY }}       # Custom secret you created
${{ secrets.DATABASE_URL }}  # Database connection string
${{ secrets.GITHUB_TOKEN }}  # Automatically provided token

# Secrets are automatically redacted from logs!`
                },
                job: {
                    title: '💼 Job Context',
                    description: 'Information about the currently running job.',
                    example: `# Job context examples:
${{ job.status }}           # Current job status
${{ job.container.id }}     # Container ID if using containers
${{ job.services }}         # Information about service containers`
                },
                runner: {
                    title: '🖥️ Runner Context',
                    description: 'Information about the runner executing the workflow.',
                    example: `# Runner context examples:
${{ runner.os }}            # Operating system (Linux, Windows, macOS)
${{ runner.arch }}          # Architecture (X86, X64, ARM, ARM64)
${{ runner.name }}          # Name of the runner
${{ runner.temp }}          # Temporary directory path`
                }
            };
            
            const context = contexts[contextType];
            title.textContent = context.title;
            description.textContent = context.description;
            example.textContent = context.example;
            example.style.display = 'block';
            details.style.display = 'block';
        }

        // Variable scope functionality
        function showVariableScopes() {
            const demo = document.getElementById('variableScopeDemo');
            demo.style.display = demo.style.display === 'none' ? 'block' : 'none';
        }

        function explainScope(scope) {
            const example = document.getElementById('scopeExample');
            const code = document.getElementById('scopeCode');
            
            const scopes = {
                workflow: {
                    code: `# Workflow-level environment variables
name: CI Pipeline
env:
  NODE_VERSION: '18'        # Available to ALL jobs
  BUILD_ENV: 'production'   # Available to ALL jobs

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Use workflow variables
        run: |
          echo "Node: ${{ env.NODE_VERSION }}"
          echo "Environment: ${{ env.BUILD_ENV }}"`
                },
                job: {
                    code: `# Job-level environment variables
jobs:
  build:
    runs-on: ubuntu-latest
    env:
      JOB_SPECIFIC: 'build-config'  # Available to ALL steps in this job
    steps:
      - name: Use job variable
        run: echo "Config: ${{ env.JOB_SPECIFIC }}"
      
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Cannot access job variable from other job
        run: echo "This won't work: ${{ env.JOB_SPECIFIC }}"`
                },
                step: {
                    code: `# Step-level environment variables
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Step with specific env
        env:
          STEP_VAR: 'only-for-this-step'  # Available ONLY to this step
        run: echo "Step variable: ${{ env.STEP_VAR }}"
        
      - name: Cannot access step variable
        run: echo "This won't work: ${{ env.STEP_VAR }}"`
                }
            };
            
            code.textContent = scopes[scope].code;
            example.style.display = 'block';
        }

        // Secret setup functionality
        function showSecretSetup() {
            const guide = document.getElementById('secretSetupGuide');
            guide.style.display = guide.style.display === 'none' ? 'block' : 'none';
        }

        function showSetupStep(step) {
            const details = document.getElementById('setupStepDetails');
            const title = document.getElementById('setupStepTitle');
            const description = document.getElementById('setupStepDescription');
            const code = document.getElementById('setupStepCode');
            
            const steps = {
                1: {
                    title: '🌐 Navigate to Repository Settings',
                    description: 'Go to your repository on GitHub and click on the "Settings" tab in the top navigation bar.',
                    code: `# Navigation Path:
Repository → Settings → Secrets and variables → Actions`
                },
                2: {
                    title: '🔒 Find Secrets Section',
                    description: 'In the left sidebar, look for "Secrets and variables" and click on "Actions" to manage repository secrets.',
                    code: `# Security Section Location:
Settings → Security → Secrets and variables → Actions → Repository secrets`
                },
                3: {
                    title: '➕ Add New Secret',
                    description: 'Click the "New repository secret" button to create a new encrypted secret for your workflows.',
                    code: `# Secret Creation:
1. Click "New repository secret"
2. Enter secret name (e.g., API_KEY)
3. Enter secret value
4. Click "Add secret"`
                },
                4: {
                    title: '⚙️ Configure Secret',
                    description: 'Give your secret a descriptive name (uppercase with underscores) and paste the sensitive value. The value will be encrypted and hidden.',
                    code: `# Secret Naming Convention:
API_KEY=your_api_key_here
DATABASE_URL=postgresql://user:pass@host:port/db
DEPLOY_TOKEN=ghp_xxxxxxxxxxxx

# Usage in workflows:
${{ secrets.API_KEY }}
${{ secrets.DATABASE_URL }}
${{ secrets.DEPLOY_TOKEN }}`
                }
            };
            
            const stepInfo = steps[step];
            title.textContent = stepInfo.title;
            description.textContent = stepInfo.description;
            code.textContent = stepInfo.code;
            code.style.display = 'block';
            details.style.display = 'block';
        }

        // PR Bot builder functionality
        function buildPRBot() {
            const builder = document.getElementById('prBotBuilder');
            const code = document.getElementById('botWorkflowCode');
            
            builder.style.display = builder.style.display === 'none' ? 'block' : 'none';
            
            if (builder.style.display === 'block') {
                code.textContent = `# PR Comment Bot Workflow
# Click the buttons below to build your bot step by step!

name: PR Comment Bot
# Add components using the buttons below`;
                secretsBotComponents = [];
            }
        }

        function addBotTrigger() {
            if (!secretsBotComponents.includes('trigger')) {
                secretsBotComponents.push('trigger');
                updateBotWorkflow();
            }
        }

        function addBotPermissions() {
            if (!secretsBotComponents.includes('permissions')) {
                secretsBotComponents.push('permissions');
                updateBotWorkflow();
            }
        }

        function addBotComment() {
            if (!secretsBotComponents.includes('comment')) {
                secretsBotComponents.push('comment');
                updateBotWorkflow();
            }
        }

        function updateBotWorkflow() {
            const code = document.getElementById('botWorkflowCode');
            let workflow = `name: PR Comment Bot

`;

            if (secretsBotComponents.includes('trigger')) {
                workflow += `# ✅ Trigger: Run on pull requests
on:
  pull_request:
    types: [opened, synchronize]

`;
            }

            if (secretsBotComponents.includes('permissions')) {
                workflow += `# ✅ Permissions: Allow bot to comment
permissions:
  pull-requests: write
  issues: write

`;
            }

            workflow += `jobs:
  comment:
    runs-on: ubuntu-latest
    steps:`;

            if (secretsBotComponents.includes('comment')) {
                workflow += `
    - name: Comment on PR
      uses: actions/github-script@v6
      with:
        github-token: \${{ secrets.GITHUB_TOKEN }}
        script: |
          github.rest.issues.createComment({
            issue_number: context.issue.number,
            owner: context.repo.owner,
            repo: context.repo.repo,
            body: '🤖 Hello! This PR has been automatically reviewed by GitHub Actions!'
          })`;
            } else {
                workflow += `
    # Add comment action using the button above`;
            }

            code.textContent = workflow;
        }

        function resetBot() {
            secretsBotComponents = [];
            const code = document.getElementById('botWorkflowCode');
            code.textContent = `# PR Comment Bot Workflow
# Click the buttons below to build your bot step by step!

name: PR Comment Bot
# Add components using the buttons below`;
        }

        // Security audit functionality
        function runSecurityCheck() {
            const audit = document.getElementById('securityAudit');
            audit.style.display = audit.style.display === 'none' ? 'block' : 'none';
        }

        function validateSecurity() {
            const checks = [
                document.getElementById('securityCheck1').checked,
                document.getElementById('securityCheck2').checked,
                document.getElementById('securityCheck3').checked,
                document.getElementById('securityCheck4').checked
            ];
            
            const results = document.getElementById('securityResults');
            const score = document.getElementById('securityScore');
            const feedback = document.getElementById('securityFeedback');
            
            const checkedCount = checks.filter(Boolean).length;
            const percentage = Math.round((checkedCount / 4) * 100);
            
            results.style.display = 'block';
            
            if (percentage === 100) {
                score.textContent = '🏆 Perfect Security Score!';
                feedback.textContent = 'Excellent! You follow all security best practices for GitHub Actions.';
            } else if (percentage >= 75) {
                score.textContent = '✅ Good Security Practices';
                feedback.textContent = `You scored ${percentage}%. Review the unchecked items to improve security.`;
            } else if (percentage >= 50) {
                score.textContent = '⚠️ Security Needs Improvement';
                feedback.textContent = `You scored ${percentage}%. Please address the security gaps identified.`;
            } else {
                score.textContent = '❌ Security Risks Detected';
                feedback.textContent = `You scored ${percentage}%. Critical security improvements needed!`;
            }
        }

        // Secrets Quiz functionality
        function startSecretsQuiz() {
            secretsQuizIndex = 0;
            secretsQuizScore = 0;
            document.getElementById('secretsQuiz').style.display = 'block';
            document.getElementById('secretsQuizResults').style.display = 'none';
            showSecretsQuestion();
        }

        function showSecretsQuestion() {
            if (secretsQuizIndex < secretsQuizData.length) {
                const question = secretsQuizData[secretsQuizIndex];
                document.getElementById('secretsQuizQuestion').textContent = question.question;
                
                let optionsHtml = '';
                question.options.forEach((option, index) => {
                    optionsHtml += `<div class="quiz-option" onclick="selectSecretsAnswer(${index})">${option}</div>`;
                });
                
                document.getElementById('secretsQuizOptions').innerHTML = optionsHtml;
                document.getElementById('secretsNextBtn').style.display = 'none';
            } else {
                endSecretsQuiz();
            }
        }

        function selectSecretsAnswer(selectedIndex) {
            const question = secretsQuizData[secretsQuizIndex];
            const options = document.querySelectorAll('#secretsQuizOptions .quiz-option');
            
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
                option.onclick = null;
            });
            
            if (selectedIndex === question.correct) {
                secretsQuizScore++;
            }
            
            document.getElementById('secretsNextBtn').style.display = 'block';
        }

        function nextSecretsQuestion() {
            secretsQuizIndex++;
            showSecretsQuestion();
        }

        function endSecretsQuiz() {
            const percentage = Math.round((secretsQuizScore / secretsQuizData.length) * 100);
            
            document.getElementById('secretsFinalScore').textContent = '🎊 Secrets Quiz Complete!';
            document.getElementById('secretsScoreMessage').innerHTML = `
                You scored ${secretsQuizScore}/${secretsQuizData.length} (${percentage}%)<br>
                ${percentage >= 75 ? '🏆 Excellent! You understand GitHub Actions security!' : '📚 Good effort! Review the security concepts above.'}
            `;
            
            document.getElementById('secretsQuiz').style.display = 'none';
            document.getElementById('secretsQuizResults').style.display = 'block';
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 GitHub Actions Tutorial loaded successfully!');
            
            // Make all sections visible initially
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('visible');
            });
        });
    </script>
</body>
</html>
