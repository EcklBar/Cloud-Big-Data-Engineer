<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive GitHub Actions Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInDown 1s ease-out;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 10px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 20px;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 15px;
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            transform: translateY(0);
            opacity: 1;
            transition: all 0.6s ease;
            backdrop-filter: blur(20px);
        }

        .section.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .section-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #34495e, #2980b9);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .time-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .section-content {
            padding: 30px;
            display: none;
            animation: slideDown 0.5s ease;
        }

        .section.active .section-content {
            display: block;
        }

        .component-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .component-card:hover {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .component-title {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .component-description {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .workflow-diagram {
            background: #1e1e1e;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
        }

        .workflow-step {
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .workflow-step:hover {
            background: rgba(52, 152, 219, 0.4);
            transform: scale(1.05);
        }

        .assembly-line {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .assembly-step {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 150px;
        }

        .assembly-step:hover {
            transform: translateY(-10px) rotate(2deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .interactive-example {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #45a049, #4CAF50);
        }

        .expandable {
            cursor: pointer;
        }

        .expandable::after {
            content: ' ▼';
            transition: transform 0.3s ease;
        }

        .expandable.expanded::after {
            transform: rotate(180deg);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 1000px;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #4299e1;
        }

        .highlight {
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 3s infinite;
        }

        .warning-box {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .quiz-option {
            background: rgba(52, 152, 219, 0.1);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            background: rgba(52, 152, 219, 0.2);
        }
        
        .quiz-option.correct {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4CAF50;
        }
        
        .quiz-option.incorrect {
            background: rgba(244, 67, 54, 0.3);
            border-color: #f44336;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .assembly-line {
                flex-direction: column;
            }
            
            .assembly-step {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 GitHub Actions</h1>
            <p>Master CI/CD with Interactive Learning</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🎬 Introduction to GitHub Actions</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h2>Welcome to GitHub Actions! 🎉</h2>
                    <p>Get ready to learn the most popular CI/CD platform that will revolutionize your development workflow!</p>
                </div>
                <button class="btn" onclick="startLearning()">🚀 Start Learning Journey</button>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🔍 What is GitHub Actions?</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">GitHub Actions (GHA) Definition</div>
                    <div class="component-description">
                        GitHub Actions is a <strong>built-in automation and CI/CD system</strong> provided by GitHub that allows you to automate your build, test, and deployment pipeline directly within your GitHub repositories.
                    </div>
                </div>
                
                <div class="interactive-example">
                    <h3>💡 Key Concept: Pipeline</h3>
                    <p>A pipeline is a sequence of interconnected steps or stages that represent the flow of work and data in a software development or deployment process.</p>
                    <button class="btn" onclick="showPipelineExample()">View Pipeline Example</button>
                </div>

                <div id="pipelineExample" style="display: none;">
                    <div class="code-block">
Pipeline Flow: Code → Build → Test → Deploy → Monitor
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🏭 Assembly Line Analogy</div>
            </div>
            <div class="section-content">
                <h3>🚗 Car Assembly Line vs GitHub Actions</h3>
                <div class="assembly-line">
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🔧 Engine</h4>
                        <p>Attach Engine</p>
                        <small>≈ Code Building</small>
                    </div>
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🎨 Paint</h4>
                        <p>Paint Car</p>
                        <small>≈ Code Testing</small>
                    </div>
                    <div class="assembly-step" onclick="highlightStep(this)">
                        <h4>🏁 Final</h4>
                        <p>Quality Check</p>
                        <small>≈ Deployment</small>
                    </div>
                </div>
                
                <div class="highlight">
                    <p><strong>Just like a car assembly line</strong>, GitHub Actions automates software development with seamless, efficient steps that follow a specific order!</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">⚡ Events - The Trigger</div>
            </div>
            <div class="section-content">
                <div class="component-card" onclick="animateCard(this)">
                    <div class="component-title">🎯 What is an Event?</div>
                    <div class="component-description">
                        An event is a particular action within a repository that initiates the execution of a workflow.
                    </div>
                </div>

                <h3>📋 Common GitHub Events:</h3>
                <div class="workflow-diagram">
                    <div class="workflow-step" onclick="triggerEvent('push')">📤 Push Commit</div>
                    <div class="workflow-step" onclick="triggerEvent('pr')">🔄 Open Pull Request</div>
                    <div class="workflow-step" onclick="triggerEvent('issue')">📝 Create Issue</div>
                </div>

                <div id="eventResult" style="display: none; margin-top: 20px;">
                    <div class="highlight">
                        <h4>🎊 Event Triggered!</h4>
                        <p id="eventMessage"></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">⚙️ Workflows - The Orchestrator</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">🗂️ Workflow Definition</div>
                    <div class="component-description">
                        A workflow is a customizable automated process that executes one or multiple jobs. Workflows are specified in YAML files stored in your repository.
                    </div>
                </div>

                <div class="code-block">
📁 Repository Structure:
.github/
  └── workflows/
      ├── build-and-test.yml
      ├── deploy.yml
      └── label-issues.yml
                </div>

                <h3>🎯 Workflow Examples:</h3>
                <div class="assembly-line">
                    <div class="assembly-step">
                        <h4>🔨 Build & Test</h4>
                        <p>Pull Requests</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🚀 Deploy</h4>
                        <p>Each Release</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🏷️ Label</h4>
                        <p>New Issues</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🔧 Steps and Actions</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">👣 Steps</div>
                    <div class="component-description">
                        Individual units of work, executed in order and dependent on the previous step. Each step runs on the same compute machine and can share data.
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">⚡ Actions</div>
                    <div class="component-description">
                        Custom applications that combine complex but frequently repeated tasks specific to the GitHub Actions platform.
                    </div>
                </div>

                <div class="workflow-diagram">
                    <h4>📝 Example Step Sequence:</h4>
                    <div class="workflow-step">1️⃣ Build Application (Compile Code)</div>
                    <div class="workflow-step">2️⃣ Test Application (Run Tests)</div>
                    <div class="workflow-step">3️⃣ Deploy Application (Shell Script)</div>
                </div>

                <div class="highlight">
                    <h4>🎯 Popular Actions Examples:</h4>
                    <p>• Checkout Repository • Comment on Pull Request • Setup Node.js • Deploy to AWS</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🏃 Jobs and Runners</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">💼 Jobs</div>
                    <div class="component-description">
                        A set of steps in a workflow. Each job is independent and can run in parallel, but can be configured to depend on other jobs.
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">🖥️ Runners</div>
                    <div class="component-description">
                        The compute machines where all steps in a single job are executed. Available runners include Ubuntu Linux, Windows, and macOS.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>🔄 Parallel vs Sequential Jobs</h3>
                    <button class="btn" onclick="demonstrateJobs('parallel')">Show Parallel Jobs</button>
                    <button class="btn" onclick="demonstrateJobs('sequential')">Show Sequential Jobs</button>
                </div>

                <div id="jobsDemo" style="display: none;">
                    <div class="workflow-diagram" id="jobsDiagram"></div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🎯 Simple Workflow Example</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h3>📝 Real Workflow Example</h3>
                    <p>Push event triggers a workflow with a single job on Ubuntu Linux runner</p>
                </div>

                <div class="code-block">
name: Simple Python Workflow
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
      - name: Run Python Code
        run: python app.py
                </div>

                <div class="workflow-diagram">
                    <div class="workflow-step">🎯 Event: Push to Repository</div>
                    <div class="workflow-step">⬇️</div>
                    <div class="workflow-step">🏃 Job: Build (Ubuntu Linux)</div>
                    <div class="workflow-step">⬇️</div>
                    <div class="workflow-step">1️⃣ Step: Checkout Repository (Action)</div>
                    <div class="workflow-step">2️⃣ Step: Run Python Code (Command)</div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">🧩 Putting It All Together</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h3>🎊 Complete GitHub Actions Architecture</h3>
                    <p>Understanding how all components work together</p>
                </div>

                <div class="workflow-diagram">
                    <h4>📊 Complete Flow Diagram:</h4>
                    <div class="workflow-step">📁 GitHub Repository</div>
                    <div class="workflow-step">📄 .github/workflows/workflow.yml</div>
                    <div class="workflow-step">⚡ Event Triggers (Push, PR, Issue)</div>
                    <div class="workflow-step">⚙️ Workflow Execution</div>
                    <div class="workflow-step">💼 Jobs (Parallel/Sequential)</div>
                    <div class="workflow-step">👣 Steps (Scripts, Programs, Actions)</div>
                    <div class="workflow-step">🖥️ Runner Machine (Ubuntu, Windows, macOS)</div>
                    <div class="workflow-step">📦 Optional: Artifacts Output</div>
                </div>

                <div class="interactive-example">
                    <h3>🎯 Ready for Advanced Topics?</h3>
                    <p>Now that you understand GitHub Actions basics, let's explore environment variables and secrets!</p>
                    <button class="btn" onclick="scrollToSecrets()">🔐 Learn About Secrets</button>
                </div>
            </div>
        </div>

        <!-- Environment Variables and Secrets Section -->
        <div class="section secrets-section">
            <div class="section-header" onclick="toggleSection(this)" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                <div class="section-title expandable">🔐 Environment Variables & Secrets</div>
                <div class="time-badge">Security Focus</div>
            </div>
            <div class="section-content">
                <div class="highlight" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <h2>🔒 Secure Configuration Management</h2>
                    <p>Learn to manage environment variables and secrets securely in GitHub Actions workflows</p>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step">
                        <h4>🌍 Step 1</h4>
                        <p>Context System</p>
                    </div>
                    <div class="assembly-step">
                        <h4>📝 Step 2</h4>
                        <p>Environment Variables</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🔐 Step 3</h4>
                        <p>Secrets Management</p>
                    </div>
                    <div class="assembly-step">
                        <h4>🛡️ Step 4</h4>
                        <p>Security Best Practices</p>
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">🎯 What is Context?</div>
                    <div class="component-description">
                        Context refers to predefined environment variables and data that GitHub provides for each workflow run. These context variables contain information about the repository, workflow, event, and the environment where the workflow is running.
                    </div>
                </div>

                <div class="code-block">
# Context expression syntax:
${{ context_name.property }}

# Common examples:
${{ github.actor }}        # Username who triggered workflow  
${{ env.NODE_VERSION }}    # Environment variable
${{ secrets.API_KEY }}     # Secret value
${{ runner.os }}           # Operating system
                </div>

                <div class="interactive-example">
                    <h3>🎮 Context Types Explorer</h3>
                    <button class="btn" onclick="exploreContextTypes()">🔍 Explore Context System</button>
                </div>

                <div id="contextExplorer" style="display: none;">
                    <div class="assembly-line">
                        <div class="assembly-step" onclick="showContextDetails('github')">
                            <h4>🐙 github</h4>
                            <p>Workflow Info</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('env')">
                            <h4>🌍 env</h4>
                            <p>Variables</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('secrets')">
                            <h4>🔐 secrets</h4>
                            <p>Secure Data</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('job')">
                            <h4>💼 job</h4>
                            <p>Job Status</p>
                        </div>
                        <div class="assembly-step" onclick="showContextDetails('runner')">
                            <h4>🖥️ runner</h4>
                            <p>Machine Info</p>
                        </div>
                    </div>
                    
                    <div id="contextDetails" style="display: none;">
                        <div class="component-card">
                            <div class="component-title" id="contextTitle">Context Details</div>
                            <div class="component-description" id="contextDescription">Select a context type above</div>
                            <div id="contextExample" class="code-block" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">🌍 Environment Variables</div>
                    <div class="component-description">
                        Variables are stored as plain text and used for non-sensitive data such as compiler flags, usernames, API endpoints, or configuration settings. Variables can be declared at workflow, job, or step level.
                    </div>
                </div>

                <div class="code-block">
# Environment Variables Example:
name: CI Pipeline
env:
  NODE_VERSION: '18'
  API_URL: 'https://api.example.com'

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_ENV: 'production'
    steps:
      - name: Use variables
        run: |
          echo "Node: ${{ env.NODE_VERSION }}"
          echo "API: ${{ env.API_URL }}"
          echo "Build: ${{ env.BUILD_ENV }}"
                </div>

                <div class="component-card" style="border-left: 5px solid #e74c3c;">
                    <div class="component-title">🔐 Secrets Management</div>
                    <div class="component-description">
                        Secrets are encrypted in storage and used for sensitive data such as passwords, API keys, or access tokens. GitHub Actions automatically redacts secret values from logs as a security measure.
                    </div>
                </div>

                <div class="warning-box">
                    <h4>⚠️ Critical Security Rule</h4>
                    <p>Never commit secrets to your repository. Always use GitHub's secure secrets storage.</p>
                </div>

                <div class="code-block">
# Secrets Usage Example:
name: Deploy Application
on: [push]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        env:
          API_KEY: ${{ secrets.API_KEY }}
          DATABASE_URL: ${{ secrets.DATABASE_URL }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "Deploying with API key..."
          # Secret values are automatically redacted in logs
                </div>

                <div class="interactive-example">
                    <h3>🧠 Test Your Knowledge</h3>
                    <button class="btn" onclick="startSecretsQuiz()">🚀 Take Secrets Quiz</button>
                </div>

                <div id="secretsQuiz" style="display: none;">
                    <div class="component-card">
                        <h4 id="secretsQuizQuestion">Question will appear here</h4>
                        <div id="secretsQuizOptions"></div>
                        <button class="btn" onclick="nextSecretsQuestion()" id="secretsNextBtn" style="display: none;">Next Question</button>
                    </div>
                </div>

                <div id="secretsQuizResults" style="display: none;">
                    <div class="highlight">
                        <h3 id="secretsFinalScore">Quiz Complete!</h3>
                        <p id="secretsScoreMessage">Your results will appear here</p>
                        <button class="btn" onclick="startSecretsQuiz()">Retake Quiz</button>
                    </div>
                </div>

                <div class="highlight">
                    <h3>🎊 Congratulations!</h3>
                    <p>You now have comprehensive knowledge of GitHub Actions fundamentals, workflows, and security best practices. You're ready to build production-ready CI/CD pipelines!</p>
                </div>
            </div>
        </div>
    </div>
     
    <script>
        // Global variables
        let currentProgress = 0;
        let secretsQuizIndex = 0;
        let secretsQuizScore = 0;

        // Quiz data
        const secretsQuizData = [
            {
                question: "What is the difference between environment variables and secrets?",
                options: ["No difference", "Variables are encrypted, secrets are not", "Secrets are encrypted, variables are plain text", "Both are always encrypted"],
                correct: 2
            },
            {
                question: "What is GITHUB_TOKEN?",
                options: ["A user-created secret", "An automatically provided secret for API access", "A repository setting", "A workflow trigger"],
                correct: 1
            },
            {
                question: "How should you handle API keys in workflows?",
                options: ["Put them directly in YAML", "Store as repository secrets", "Use environment variables", "Hard-code them"],
                correct: 1
            },
            {
                question: "What happens to secret values in workflow logs?",
                options: ["They are shown in plain text", "They are automatically redacted", "They are base64 encoded", "They cause errors"],
                correct: 1
            }
        ];

        // CRITICAL FUNCTION - Makes sections clickable and expandable
        function toggleSection(header) {
            const section = header.parentElement;
            const allSections = document.querySelectorAll('.section');
            
            // Close all other sections
            allSections.forEach(s => {
                if (s !== section) {
                    s.classList.remove('active');
                    const expandable = s.querySelector('.expandable');
                    if (expandable) {
                        expandable.classList.remove('expanded');
                    }
                }
            });
            
            // Toggle current section
            section.classList.toggle('active');
            const expandable = header.querySelector('.expandable');
            if (expandable) {
                expandable.classList.toggle('expanded');
            }
            
            updateProgress();
        }

        function updateProgress() {
            const activeSections = document.querySelectorAll('.section.active').length;
            const totalSections = document.querySelectorAll('.section').length;
            const progress = (activeSections / totalSections) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function startLearning() {
            const sections = document.querySelectorAll('.section');
            if (sections.length > 1) {
                sections[1].querySelector('.section-header').click();
            }
        }

        function showPipelineExample() {
            const example = document.getElementById('pipelineExample');
            example.style.display = example.style.display === 'none' ? 'block' : 'none';
        }

        function highlightStep(step) {
            document.querySelectorAll('.assembly-step').forEach(s => s.style.transform = 'scale(1)');
            step.style.transform = 'scale(1.1) rotate(5deg)';
            setTimeout(() => {
                step.style.transform = 'scale(1)';
            }, 1000);
        }

        function animateCard(card) {
            card.style.animation = 'pulse 1s ease';
            setTimeout(() => {
                card.style.animation = '';
            }, 1000);
        }

        function triggerEvent(eventType) {
            const messages = {
                'push': 'Push event triggered! Workflow will now build and test your code.',
                'pr': 'Pull Request opened! Workflow will review and validate changes.',
                'issue': 'Issue created! Workflow will automatically add labels.'
            };
            
            document.getElementById('eventMessage').textContent = messages[eventType];
            document.getElementById('eventResult').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('eventResult').style.display = 'none';
            }, 3000);
        }

        function demonstrateJobs(type) {
            const diagram = document.getElementById('jobsDiagram');
            let content = '';
            
            if (type === 'parallel') {
                content = `
                    <h4>🔄 Parallel Jobs Execution:</h4>
                    <div style="display: flex; justify-content: space-around; flex-wrap: wrap;">
                        <div class="workflow-step">Job 1: Build</div>
                        <div class="workflow-step">Job 2: Test</div>
                        <div class="workflow-step">Job 3: Lint</div>
                    </div>
                    <p style="color: #4CAF50; margin-top: 15px;">✅ All jobs run simultaneously!</p>
                `;
            } else {
                content = `
                    <h4>⏭️ Sequential Jobs Execution:</h4>
                    <div class="workflow-step">Job 1: Build</div>
                    <div style="text-align: center; color: #ccc;">⬇️</div>
                    <div class="workflow-step">Job 2: Test (depends on Job 1)</div>
                    <div style="text-align: center; color: #ccc;">⬇️</div>
                    <div class="workflow-step">Job 3: Deploy (depends on Job 2)</div>
                    <p style="color: #ff9800; margin-top: 15px;">⏳ Jobs run one after another!</p>
                `;
            }
            
            diagram.innerHTML = content;
            document.getElementById('jobsDemo').style.display = 'block';
        }

        function scrollToSecrets() {
            const secretsSection = document.querySelector('.secrets-section');
            if (secretsSection) {
                secretsSection.scrollIntoView({ behavior: 'smooth' });
                setTimeout(() => {
                    secretsSection.querySelector('.section-header').click();
                }, 800);
            }
        }

        // Secrets and Environment Variables Functions
        function exploreContextTypes() {
            const explorer = document.getElementById('contextExplorer');
            explorer.style.display = explorer.style.display === 'none' ? 'block' : 'none';
        }

        function showContextDetails(contextType) {
            const details = document.getElementById('contextDetails');
            const title = document.getElementById('contextTitle');
            const description = document.getElementById('contextDescription');
            const example = document.getElementById('contextExample');
            
            const contexts = {
                github: {
                    title: '🐙 GitHub Context',
                    description: 'Contains information about the workflow run and the event that triggered it.',
                    example: `# GitHub context examples:
${{ github.actor }}          # Username who triggered the workflow
${{ github.repository }}     # Repository name (owner/repo)
${{ github.ref }}           # Branch or tag ref that triggered workflow
${{ github.sha }}           # Commit SHA that triggered workflow
${{ github.event_name }}    # Name of event (push, pull_request, etc.)`
                },
                env: {
                    title: '🌍 Environment Variables',
                    description: 'Access to environment variables set at workflow, job, or step level.',
                    example: `# Environment variables examples:
env:
  NODE_VERSION: '18'
  API_URL: 'https://api.example.com'

steps:
  - name: Use environment variables
    run: |
      echo "Node version: ${{ env.NODE_VERSION }}"
      echo "API URL: ${{ env.API_URL }}"`
                },
                secrets: {
                    title: '🔐 Secrets Context',
                    description: 'Access to encrypted secrets stored in repository settings.',
                    example: `# Secrets context examples:
${{ secrets.API_KEY }}       # Custom secret you created
${{ secrets.DATABASE_URL }}  # Database connection string
${{ secrets.GITHUB_TOKEN }}  # Automatically provided token

# Secrets are automatically redacted from logs!`
                },
                job: {
                    title: '💼 Job Context',
                    description: 'Information about the currently running job.',
                    example: `# Job context examples:
${{ job.status }}           # Current job status
${{ job.container.id }}     # Container ID if using containers
${{ job.services }}         # Information about service containers`
                },
                runner: {
                    title: '🖥️ Runner Context',
                    description: 'Information about the runner executing the workflow.',
                    example: `# Runner context examples:
${{ runner.os }}            # Operating system (Linux, Windows, macOS)
${{ runner.arch }}          # Architecture (X86, X64, ARM, ARM64)
${{ runner.name }}          # Name of the runner
${{ runner.temp }}          # Temporary directory path`
                }
            };
            
            const context = contexts[contextType];
            title.textContent = context.title;
            description.textContent = context.description;
            example.textContent = context.example;
            example.style.display = 'block';
            details.style.display = 'block';
        }

        function startSecretsQuiz() {
            secretsQuizIndex = 0;
            secretsQuizScore = 0;
            document.getElementById('secretsQuiz').style.display = 'block';
            document.getElementById('secretsQuizResults').style.display = 'none';
            showSecretsQuestion();
        }

        function showSecretsQuestion() {
            if (secretsQuizIndex < secretsQuizData.length) {
                const question = secretsQuizData[secretsQuizIndex];
                document.getElementById('secretsQuizQuestion').textContent = question.question;
                
                let optionsHtml = '';
                question.options.forEach((option, index) => {
                    optionsHtml += `
                        <div class="quiz-option" onclick="selectSecretsAnswer(${index})">
                            ${option}
                        </div>
                    `;
                });
                
                document.getElementById('secretsQuizOptions').innerHTML = optionsHtml;
                document.getElementById('secretsNextBtn').style.display = 'none';
            } else {
                endSecretsQuiz();
            }
        }

        function selectSecretsAnswer(selectedIndex) {
            const question = secretsQuizData[secretsQuizIndex];
            const options = document.querySelectorAll('#secretsQuizOptions .quiz-option');
            
            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
                option.onclick = null;
            });
            
            if (selectedIndex === question.correct) {
                secretsQuizScore++;
            }
            
            document.getElementById('secretsNextBtn').style.display = 'block';
        }

        function nextSecretsQuestion() {
            secretsQuizIndex++;
            showSecretsQuestion();
        }

        function endSecretsQuiz() {
            const percentage = Math.round((secretsQuizScore / secretsQuizData.length) * 100);
            const finalScore = document.getElementById('secretsFinalScore');
            const scoreMessage = document.getElementById('secretsScoreMessage');
            
            finalScore.textContent = `🎊 Secrets Quiz Complete!`;
            scoreMessage.innerHTML = `
                You scored ${secretsQuizScore}/${secretsQuizData.length} (${percentage}%)<br>
                ${percentage >= 75 ? '🏆 Excellent! You understand GitHub Actions security!' : '📚 Good effort! Review the security concepts above.'}
            `;
            
            document.getElementById('secretsQuiz').style.display = 'none';
            document.getElementById('secretsQuizResults').style.display = 'block';
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 GitHub Actions Tutorial loaded successfully!');
            
            // Make all sections visible initially
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('visible');
            });
        });

        // Intersection Observer for scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        });

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>
