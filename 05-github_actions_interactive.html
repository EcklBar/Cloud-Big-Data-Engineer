<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive GitHub Actions Tutorial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeInDown 1s ease-out;
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .progress-container {
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 10px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 20px;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 15px;
            width: 0%;
            transition: width 0.8s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin: 30px 0;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            transform: translateY(50px);
            opacity: 0;
            transition: all 0.6s ease;
            backdrop-filter: blur(20px);
        }

        .section.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .section-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 25px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #34495e, #2980b9);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .time-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .section-content {
            padding: 30px;
            display: none;
            animation: slideDown 0.5s ease;
        }

        .section.active .section-content {
            display: block;
        }

        .component-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .component-card:hover {
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .component-title {
            color: #2c3e50;
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .component-description {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .workflow-diagram {
            background: #1e1e1e;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
        }

        .workflow-step {
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .workflow-step:hover {
            background: rgba(52, 152, 219, 0.4);
            transform: scale(1.05);
        }

        .assembly-line {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .assembly-step {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            border-radius: 15px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-width: 150px;
        }

        .assembly-step:hover {
            transform: translateY(-10px) rotate(2deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .interactive-example {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #45a049, #4CAF50);
        }

        .expandable {
            cursor: pointer;
        }

        .expandable::after {
            content: ' ‚ñº';
            transition: transform 0.3s ease;
        }

        .expandable.expanded::after {
            transform: rotate(180deg);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
            }
            to {
                opacity: 1;
                max-height: 1000px;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #4299e1;
        }

        .highlight {
            background: linear-gradient(135deg, #ffd89b, #19547b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            animation: pulse 3s infinite;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }

            .assembly-line {
                flex-direction: column;
            }

            .assembly-step {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ GitHub Actions</h1>
            <p>Master CI/CD with Interactive Learning</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Hands-On CI Pipeline Section -->
        <div class="section ci-pipeline-section">
            <div class="section-header" onclick="toggleSection(this)" style="background: linear-gradient(135deg, #FF6B6B, #4ECDC4);">
                <div class="section-title expandable">üî® Hands-On: Build Your First CI Pipeline</div>
                <div class="time-badge">Practical Guide</div>
            </div>
            <div class="section-content">
                <div class="highlight" style="background: linear-gradient(135deg, #FF6B6B, #4ECDC4);">
                    <h2>üé¨ Welcome to CI Pipeline Creation!</h2>
                    <p>Follow along step-by-step to create your first continuous integration pipeline using GitHub Actions</p>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step">
                        <h4>üèóÔ∏è Step 1</h4>
                        <p>Workflow Anatomy</p>
                    </div>
                    <div class="assembly-step">
                        <h4>üì¶ Step 2</h4>
                        <p>Create Repository</p>
                    </div>
                    <div class="assembly-step">
                        <h4>‚öôÔ∏è Step 3</h4>
                        <p>Setup Actions</p>
                    </div>
                    <div class="assembly-step">
                        <h4>üéØ Step 4</h4>
                        <p>Test & Debug</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üî¨ CI Workflow Anatomy Deep Dive</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">üìù Complete Workflow Structure</div>
                    <div class="component-description">
                        Let's break down each component of a CI workflow and understand how they work together to create an automated pipeline.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>üéÆ Interactive Workflow Builder</h3>
                    <button class="btn" onclick="buildWorkflowStep(1)">Start Building</button>
                </div>

                <div id="workflowBuilder" style="display: none;">
                    <div class="code-block" id="workflowCode">
# Your workflow will be built here...
                    </div>
                    <div class="workflow-diagram" id="workflowExplanation">
                        <p>Click "Start Building" to begin the interactive workflow creation process!</p>
                    </div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" onclick="buildWorkflowStep('prev')" id="prevBtn" style="display: none;">‚Üê Previous</button>
                        <button class="btn" onclick="buildWorkflowStep('next')" id="nextBtn" style="display: none;">Next ‚Üí</button>
                        <button class="btn" onclick="completeWorkflow()" id="completeBtn" style="display: none;">‚úÖ Complete Workflow</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üèóÔ∏è Repository Setup Walkthrough</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h3>üì¶ Creating Your GitHub Repository</h3>
                    <p>Follow these steps to set up a new repository for your CI pipeline</p>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step" onclick="showRepoStep(1)">
                        <h4>üåê Step 1</h4>
                        <p>Visit GitHub</p>
                        <small>github.com/new</small>
                    </div>
                    <div class="assembly-step" onclick="showRepoStep(2)">
                        <h4>üìù Step 2</h4>
                        <p>Configure Repo</p>
                        <small>Name & Settings</small>
                    </div>
                    <div class="assembly-step" onclick="showRepoStep(3)">
                        <h4>üîß Step 3</h4>
                        <p>Add Files</p>
                        <small>.gitignore & License</small>
                    </div>
                    <div class="assembly-step" onclick="showRepoStep(4)">
                        <h4>‚úÖ Step 4</h4>
                        <p>Create Repository</p>
                        <small>Final Step</small>
                    </div>
                </div>

                <div id="repoStepDetails" class="component-card" style="display: none;">
                    <div class="component-title" id="repoStepTitle">Select a step above</div>
                    <div class="component-description" id="repoStepDescription">Click on any step above to see detailed instructions</div>
                    <div id="repoStepCode" class="code-block" style="display: none;"></div>
                </div>

                <div class="interactive-example">
                    <h3>üîç Repository Checklist</h3>
                    <div class="workflow-diagram">
                        <div class="workflow-step">
                            <input type="checkbox" id="check1"> Repository name is descriptive
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="check2"> Added Python .gitignore
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="check3"> Selected appropriate license
                        </div>
                        <div class="workflow-step">
                            <input type="checkbox" id="check4"> Repository is public/private as needed
                        </div>
                    </div>
                    <button class="btn" onclick="validateRepoSetup()">‚úÖ Validate Setup</button>
                </div>

                <div id="repoValidation" style="display: none;">
                    <div class="highlight">
                        <h4 id="validationResult"></h4>
                        <p id="validationMessage"></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">‚öôÔ∏è GitHub Actions Configuration</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">üîê Actions Permissions Setup</div>
                    <div class="component-description">
                        Before creating workflows, ensure GitHub Actions are properly configured with the right permissions.
                    </div>
                </div>

                <div class="workflow-diagram">
                    <h4>üõ°Ô∏è Required Permission Settings:</h4>
                    <div class="workflow-step" onclick="explainPermission('general')">
                        <strong>Allow all actions and reusable workflows</strong>
                        <br><small>Enables use of community actions from GitHub Marketplace</small>
                    </div>
                    <div class="workflow-step" onclick="explainPermission('fork')">
                        <strong>Allow GitHub Actions to create and approve pull requests</strong>
                        <br><small>Enables automated PR creation and approval</small>
                    </div>
                    <div class="workflow-step" onclick="explainPermission('token')">
                        <strong>Read and write permissions for GITHUB_TOKEN</strong>
                        <br><small>Allows workflows to interact with repository</small>
                    </div>
                </div>

                <div id="permissionExplanation" style="display: none;">
                    <div class="highlight">
                        <h4 id="permissionTitle"></h4>
                        <p id="permissionDetails"></p>
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>üîß Quick Actions Setup Guide</h3>
                    <div class="code-block">
# Navigation Path:
Repository ‚Üí Settings ‚Üí Actions ‚Üí General

# Key Settings to Configure:
‚úÖ Actions permissions: "Allow all actions and reusable workflows"
‚úÖ Fork pull request workflows: "Run workflows from fork pull requests"
‚úÖ Workflow permissions: "Read and write permissions"
‚úÖ Allow GitHub Actions to create and approve pull requests: ‚úì
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üéØ Hello World Workflow Creation</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h3>üëã Your First GitHub Action</h3>
                    <p>Create a simple "Hello World" workflow to test your setup</p>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step" onclick="showWorkflowCreationStep(1)">
                        <h4>üìÇ Navigate</h4>
                        <p>Actions Tab</p>
                    </div>
                    <div class="assembly-step" onclick="showWorkflowCreationStep(2)">
                        <h4>üîç Search</h4>
                        <p>Simple Workflow</p>
                    </div>
                    <div class="assembly-step" onclick="showWorkflowCreationStep(3)">
                        <h4>‚öôÔ∏è Configure</h4>
                        <p>Edit YAML</p>
                    </div>
                    <div class="assembly-step" onclick="showWorkflowCreationStep(4)">
                        <h4>üíæ Commit</h4>
                        <p>Save Changes</p>
                    </div>
                </div>

                <div id="workflowCreationDetails" style="display: none;">
                    <div class="component-card">
                        <div class="component-title" id="creationStepTitle">Workflow Creation Step</div>
                        <div class="component-description" id="creationStepDescription">Select a step above to see details</div>
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>üìù Complete Hello World Workflow</h3>
                    <button class="btn" onclick="showCompleteWorkflow()">üìÑ Show Complete YAML</button>
                </div>

                <div id="completeWorkflowExample" style="display: none;">
                    <div class="code-block">
name: CI

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Run a multi-line script
      run: |
        echo "Hello, World!"
        echo "This is my first GitHub Action"
        echo "Pipeline executed successfully!"
                    </div>

                    <div class="workflow-diagram">
                        <h4>üîç Workflow Breakdown:</h4>
                        <div class="workflow-step">
                            <strong>name:</strong> Workflow identifier shown in Actions tab
                        </div>
                        <div class="workflow-step">
                            <strong>on.push.branches:</strong> Triggers on pushes to main branch
                        </div>
                        <div class="workflow-step">
                            <strong>jobs.build:</strong> Single job named "build"
                        </div>
                        <div class="workflow-step">
                            <strong>runs-on:</strong> Uses Ubuntu Linux runner
                        </div>
                        <div class="workflow-step">
                            <strong>steps.run:</strong> Executes multi-line shell commands
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üîç Workflow Execution & Monitoring</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">üìä Understanding Workflow Status</div>
                    <div class="component-description">
                        Learn to interpret the visual indicators that show your workflow's execution status.
                    </div>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step" onclick="showStatusIndicator('pending')">
                        <h4>üü° Pending</h4>
                        <p>Workflow Queued</p>
                        <small>Amber Circle</small>
                    </div>
                    <div class="assembly-step" onclick="showStatusIndicator('running')">
                        <h4>üîÑ Running</h4>
                        <p>Currently Executing</p>
                        <small>Animated Circle</small>
                    </div>
                    <div class="assembly-step" onclick="showStatusIndicator('success')">
                        <h4>‚úÖ Success</h4>
                        <p>Completed Successfully</p>
                        <small>Green Checkmark</small>
                    </div>
                    <div class="assembly-step" onclick="showStatusIndicator('failure')">
                        <h4>‚ùå Failed</h4>
                        <p>Error Occurred</p>
                        <small>Red X Mark</small>
                    </div>
                </div>

                <div id="statusDetails" style="display: none;">
                    <div class="highlight">
                        <h4 id="statusTitle">Workflow Status</h4>
                        <p id="statusDescription">Select a status above to learn more</p>
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>üîç Workflow Investigation Tools</h3>
                    <button class="btn" onclick="showInvestigationTools()">üïµÔ∏è Explore Tools</button>
                </div>

                <div id="investigationTools" style="display: none;">
                    <div class="workflow-diagram">
                        <h4>üõ†Ô∏è Debugging Your Workflows:</h4>
                        <div class="workflow-step" onclick="explainTool('actions-tab')">
                            <strong>Actions Tab</strong> - Overview of all workflow runs
                        </div>
                        <div class="workflow-step" onclick="explainTool('workflow-run')">
                            <strong>Workflow Run Page</strong> - Individual execution details
                        </div>
                        <div class="workflow-step" onclick="explainTool('job-logs')">
                            <strong>Job Logs</strong> - Step-by-step execution output
                        </div>
                        <div class="workflow-step" onclick="explainTool('artifacts')">
                            <strong>Artifacts</strong> - Files generated during workflow
                        </div>
                    </div>

                    <div id="toolExplanation" style="display: none;">
                        <div class="component-card">
                            <div class="component-title" id="toolTitle">Investigation Tool</div>
                            <div class="component-description" id="toolDescription">Click on a tool above to learn more</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üìã Log Analysis & Troubleshooting</div>
            </div>
            <div class="section-content">
                <div class="component-card">
                    <div class="component-title">üîç Reading Workflow Logs</div>
                    <div class="component-description">
                        Master the art of interpreting GitHub Actions logs to debug and optimize your workflows.
                    </div>
                </div>

                <div class="interactive-example">
                    <h3>üìä Sample Log Analysis</h3>
                    <button class="btn" onclick="showLogExample()">üìú View Sample Logs</button>
                </div>

                <div id="logExample" style="display: none;">
                    <div class="code-block">
2024-09-02T10:15:30.123Z ##[group]Run Run a multi-line script
2024-09-02T10:15:30.150Z shell: /usr/bin/bash -e {0}
2024-09-02T10:15:30.151Z ##[endgroup]
2024-09-02T10:15:30.180Z Hello, World!
2024-09-02T10:15:30.181Z This is my first GitHub Action
2024-09-02T10:15:30.182Z Pipeline executed successfully!
2024-09-02T10:15:30.200Z ##[group]Post job cleanup
2024-09-02T10:15:30.205Z Cleaning up orphaned processes
                    </div>

                    <div class="workflow-diagram">
                        <h4>üî¨ Log Components Breakdown:</h4>
                        <div class="workflow-step" onclick="explainLogComponent('timestamp')">
                            <strong>Timestamps</strong> - Execution timing information
                        </div>
                        <div class="workflow-step" onclick="explainLogComponent('groups')">
                            <strong>##[group]</strong> - Collapsible log sections
                        </div>
                        <div class="workflow-step" onclick="explainLogComponent('output')">
                            <strong>Command Output</strong> - Your script results
                        </div>
                        <div class="workflow-step" onclick="explainLogComponent('system')">
                            <strong>System Messages</strong> - Runner information
                        </div>
                    </div>
                </div>

                <div id="logComponentExplanation" style="display: none;">
                    <div class="highlight">
                        <h4 id="logComponentTitle">Log Component</h4>
                        <p id="logComponentDescription">Click on a component above to learn more</p>
                    </div>
                </div>

                <div class="component-card">
                    <div class="component-title">üö® Common Issues & Solutions</div>
                    <div class="component-description">
                        Understanding typical workflow failures and their solutions.
                    </div>
                </div>

                <div class="assembly-line">
                    <div class="assembly-step" onclick="showTroubleshooting('permission')">
                        <h4>üîí Permissions</h4>
                        <p>Access Denied</p>
                    </div>
                    <div class="assembly-step" onclick="showTroubleshooting('syntax')">
                        <h4>üìù YAML Syntax</h4>
                        <p>Parse Errors</p>
                    </div>
                    <div class="assembly-step" onclick="showTroubleshooting('timeout')">
                        <h4>‚è±Ô∏è Timeouts</h4>
                        <p>Job Limits</p>
                    </div>
                    <div class="assembly-step" onclick="showTroubleshooting('dependencies')">
                        <h4>üì¶ Dependencies</h4>
                        <p>Missing Packages</p>
                    </div>
                </div>

                <div id="troubleshootingDetails" style="display: none;">
                    <div class="component-card">
                        <div class="component-title" id="troubleshootingTitle">Troubleshooting Guide</div>
                        <div class="component-description" id="troubleshootingDescription">Select an issue type above</div>
                        <div id="troubleshootingSolution" class="code-block" style="display: none;"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title expandable">üéì CI Pipeline Mastery Quiz</div>
            </div>
            <div class="section-content">
                <div class="highlight">
                    <h3>üß† Test Your CI Pipeline Knowledge</h3>
                    <p>Prove your understanding of GitHub Actions CI pipeline creation and management</p>
                </div>

                <div class="interactive-example">
                    <h3>üèÜ Advanced CI Quiz</h3>
                    <button class="btn" onclick="startCIQuiz()">üöÄ Start CI Quiz</button>
                </div>

                <div id="ciQuiz" style="display: none;">
                    <div class="component-card">
                        <h4 id="ciQuizQuestion"></h4>
                        <div id="ciQuizOptions"></div>
                        <button class="btn" onclick="nextCIQuestion()" id="ciNextBtn" style="display: none;">Next Question</button>
                    </div>
                </div>

                <div class="highlight">
                    <h3>üéä Congratulations!</h3>
                    <p>You now have comprehensive knowledge of GitHub Actions fundamentals and hands-on CI pipeline creation. You're ready to build production-ready workflows!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentProgress = 0;
        let workflowStep = 0;
        let ciQuizIndex = 0;
        let ciQuizScore = 0;

        const workflowSteps = [
            {
                code: `# Step 1: Workflow Name
name: CI Pipeline`,
                explanation: "üè∑Ô∏è Every workflow needs a descriptive name that appears in the Actions tab"
            },
            {
                code: `# Step 1: Workflow Name
name: CI Pipeline

# Step 2: Event Triggers
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]`,
                explanation: "‚ö° Define what events trigger your workflow - pushes and PRs to main branch"
            },
            {
                code: `# Step 1: Workflow Name
name: CI Pipeline

# Step 2: Event Triggers
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# Step 3: Jobs
jobs:
  build:
    runs-on: ubuntu-latest`,
                explanation: "üíº Jobs define what work to do - this one runs on Ubuntu Linux"
            },
            {
                code: `# Step 1: Workflow Name
name: CI Pipeline

# Step 2: Event Triggers
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

# Step 3: Jobs
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4`,
                explanation: "üë£ Steps are individual tasks - checkout gets your repository code"
            },
            {
                code: `# Complete CI Workflow
name: CI Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install pytest

    - name: Run tests
      run: pytest`,
                explanation: "üéØ Complete workflow with Python setup, dependency installation, and testing!"
            }
        ];

        const ciQuizData = [
            {
                question: "What file extension do GitHub Actions workflows use?",
                options: [".yaml", ".yml", ".json", "Both .yaml and .yml"],
                correct: 3
            },
            {
                question: "Where should workflow files be located in your repository?",
                options: [".github/workflows/", "workflows/", ".workflows/", ".github/actions/"],
                correct: 0
            },
            {
                question: "What does 'runs-on: ubuntu-latest' specify?",
                options: ["The Ubuntu version", "The operating system for the runner", "The Python version", "The Node.js version"],
                correct: 1
            },
            {
                question: "Which action is commonly used to download repository code?",
                options: ["actions/download@v4", "actions/checkout@v4", "actions/setup@v4", "actions/clone@v4"],
                correct: 1
            }
        ];

        function toggleSection(header) {
            const section = header.parentElement;
            const allSections = document.querySelectorAll('.section');

            allSections.forEach(s => {
                if (s !== section) {
                    s.classList.remove('active');
                    s.querySelector('.expandable').classList.remove('expanded');
                }
            });

            section.classList.toggle('active');
            header.querySelector('.expandable').classList.toggle('expanded');

            updateProgress();
        }

        function updateProgress() {
            const activeSections = document.querySelectorAll('.section.active').length;
            const totalSections = document.querySelectorAll('.section').length;
            const progress = (activeSections / totalSections) * 100;

            document.getElementById('progressBar').style.width = progress + '%';
        }

        function buildWorkflowStep(step) {
            const builder = document.getElementById('workflowBuilder');
            const codeBlock = document.getElementById('workflowCode');
            const explanation = document.getElementById('workflowExplanation');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const completeBtn = document.getElementById('completeBtn');

            if (step === 1) {
                workflowStep = 0;
                builder.style.display = 'block';
            } else if (step === 'next') {
                workflowStep++;
            } else if (step === 'prev') {
                workflowStep--;
            }

            if (workflowStep >= 0 && workflowStep < workflowSteps.length) {
                codeBlock.textContent = workflowSteps[workflowStep].code;
                explanation.innerHTML = `<p style="color: white; text-align: center; font-size: 1.1rem;">${workflowSteps[workflowStep].explanation}</p>`;

                prevBtn.style.display = workflowStep > 0 ? 'inline-block' : 'none';
                nextBtn.style.display = workflowStep < workflowSteps.length - 1 ? 'inline-block' : 'none';
                completeBtn.style.display = workflowStep === workflowSteps.length - 1 ? 'inline-block' : 'none';
            }
        }

        function completeWorkflow() {
            const explanation = document.getElementById('workflowExplanation');
            explanation.innerHTML = `
                <div class="highlight">
                    <h3>üéä Workflow Complete!</h3>
                    <p>You've successfully built a complete CI pipeline that:</p>
                    <ul style="text-align: left; margin: 20px auto; max-width: 500px;">
                        <li>‚úÖ Triggers on push and PR events</li>
                        <li>‚úÖ Runs on Ubuntu Linux</li>
                        <li>‚úÖ Checks out your code</li>
                        <li>‚úÖ Sets up Python environment</li>
                        <li>‚úÖ Installs dependencies</li>
                        <li>‚úÖ Runs your tests</li>
                    </ul>
                    <p>Ready to create this in your repository!</p>
                </div>
            `;
        }

        function showRepoStep(stepNum) {
            const details = document.getElementById('repoStepDetails');
            const title = document.getElementById('repoStepTitle');
            const description = document.getElementById('repoStepDescription');
            const code = document.getElementById('repoStepCode');

            const steps = {
                1: {
                    title: "üåê Visit GitHub",
                    description: "Navigate to github.com and click the 'New' button or go directly to github.com/new to create a new repository.",
                    code: "URL: https://github.com/new"
                },
                2: {
                    title: "üìù Configure Repository",
                    description: "Choose a descriptive name like 'my-first-ci-pipeline', add a description, and decide if it should be public or private.",
                    code: `Repository name: my-first-ci-pipeline
Description: Learning GitHub Actions CI/CD
Visibility: Public (recommended for learning)`
                },
                3: {
                    title: "üîß Add Essential Files",
                    description: "Initialize with README, choose appropriate .gitignore (Python if building Python app), and select a license if desired.",
                    code: `‚úÖ Add a README file
‚úÖ Add .gitignore: Python
‚úÖ Choose a license: MIT License (optional)`
                },
                4: {
                    title: "‚úÖ Create Repository",
                    description: "Click 'Create repository' to finalize. You'll be redirected to your new repository where you can start adding GitHub Actions workflows.",
                    code: "üéâ Repository created successfully!"
                }
            };

            if (steps[stepNum]) {
                title.textContent = steps[stepNum].title;
                description.textContent = steps[stepNum].description;
                code.textContent = steps[stepNum].code;
                code.style.display = 'block';
                details.style.display = 'block';
            }
        }

        function validateRepoSetup() {
            const checks = [
                document.getElementById('check1').checked,
                document.getElementById('check2').checked,
                document.getElementById('check3').checked,
                document.getElementById('check4').checked
            ];

            const validation = document.getElementById('repoValidation');
            const result = document.getElementById('validationResult');
            const message = document.getElementById('validationMessage');

            const checkedCount = checks.filter(Boolean).length;

            if (checkedCount === 4) {
                result.textContent = "üéâ Perfect Setup!";
                message.textContent = "Your repository is properly configured and ready for GitHub Actions workflows!";
                result.style.color = "#4CAF50";
            } else if (checkedCount >= 2) {
                result.textContent = "üëç Good Progress!";
                message.textContent = `You've completed ${checkedCount}/4 steps. Consider completing the remaining items for best practices.`;
                result.style.color = "#ff9800";
            } else {
                result.textContent = "üìã More Setup Needed";
                message.textContent = "Please complete more setup steps before proceeding with GitHub Actions.";
                result.style.color = "#f44336";
            }

            validation.style.display = 'block';
        }

        function explainPermission(type) {
            const explanation = document.getElementById('permissionExplanation');
            const title = document.getElementById('permissionTitle');
            const details = document.getElementById('permissionDetails');

            const permissions = {
                general: {
                    title: "üîì Allow All Actions",
                    details: "This setting enables your workflows to use any action from the GitHub Marketplace or other repositories. Essential for using popular actions like checkout, setup-python, etc."
                },
                fork: {
                    title: "üîÑ Fork Pull Request Workflows",
                    details: "Allows workflows to run when someone creates a pull request from a forked repository. Important for open source projects and collaboration."
                },
                token: {
                    title: "üé´ GITHUB_TOKEN Permissions",
                    details: "The GITHUB_TOKEN is automatically created for each workflow run. Read/write permissions allow your workflows to create releases, update issues, push code, etc."
                }
            };

            if (permissions[type]) {
                title.textContent = permissions[type].title;
                details.textContent = permissions[type].details;
                explanation.style.display = 'block';
            }
        }

        function showWorkflowCreationStep(stepNum) {
            const details = document.getElementById('workflowCreationDetails');
            const title = document.getElementById('creationStepTitle');
            const description = document.getElementById('creationStepDescription');

            const steps = {
                1: {
                    title: "üìÇ Navigate to Actions Tab",
                    description: "In your repository, click the 'Actions' tab at the top. This is where all your workflows will be displayed and managed."
                },
                2: {
                    title: "üîç Choose Workflow Template",
                    description: "GitHub will suggest workflow templates based on your repository contents. Look for 'Simple workflow' or 'Set up a workflow yourself' option."
                },
                3: {
                    title: "‚öôÔ∏è Edit YAML Configuration",
                    description: "GitHub opens a built-in editor with a basic YAML template. You can modify the name, triggers, jobs, and steps according to your needs."
                },
                4: {
                    title: "üíæ Commit Workflow File",
                    description: "Click 'Start commit', add a commit message like 'Add CI workflow', and commit directly to the main branch or create a new branch."
                }
            };

            if (steps[stepNum]) {
                title.textContent = steps[stepNum].title;
                description.textContent = steps[stepNum].description;
                details.style.display = 'block';
            }
        }

        function showCompleteWorkflow() {
            const example = document.getElementById('completeWorkflowExample');
            example.style.display = example.style.display === 'none' ? 'block' : 'none';
        }

        function showStatusIndicator(status) {
            const details = document.getElementById('statusDetails');
            const title = document.getElementById('statusTitle');
            const description = document.getElementById('statusDescription');

            const statuses = {
                pending: {
                    title: "üü° Pending Status",
                    description: "Workflow is queued and waiting for an available runner. This usually takes a few seconds but can be longer during peak times."
                },
                running: {
                    title: "üîÑ Running Status",
                    description: "Workflow is currently executing. You can click on the run to see real-time logs and progress of each step."
                },
                success: {
                    title: "‚úÖ Success Status",
                    description: "All jobs and steps completed successfully! Green checkmarks indicate everything worked as expected."
                },
                failure: {
                    title: "‚ùå Failed Status",
                    description: "One or more steps failed. Click on the failed run to see error logs and identify what went wrong."
                }
            };

            if (statuses[status]) {
                title.textContent = statuses[status].title;
                description.textContent = statuses[status].description;
                details.style.display = 'block';
            }
        }

        function showInvestigationTools() {
            const tools = document.getElementById('investigationTools');
            tools.style.display = tools.style.display === 'none' ? 'block' : 'none';
        }

        function explainTool(tool) {
            const explanation = document.getElementById('toolExplanation');
            const title = document.getElementById('toolTitle');
            const description = document.getElementById('toolDescription');

            const tools = {
                'actions-tab': {
                    title: "üìä Actions Tab Overview",
                    description: "Shows all workflow runs with status indicators, triggered events, and execution times. Great for getting a bird's-eye view of your CI/CD health."
                },
                'workflow-run': {
                    title: "üìÑ Workflow Run Details",
                    description: "Detailed view of a specific workflow execution showing all jobs, their status, execution time, and any artifacts produced."
                },
                'job-logs': {
                    title: "üìù Job Execution Logs",
                    description: "Step-by-step output showing exactly what commands ran, their output, and any error messages. Essential for debugging failures."
                },
                'artifacts': {
                    title: "üì¶ Build Artifacts",
                    description: "Files generated during workflow execution like test reports, built applications, or logs. Can be downloaded for further analysis."
                }
            };

            if (tools[tool]) {
                title.textContent = tools[tool].title;
                description.textContent = tools[tool].description;
                explanation.style.display = 'block';
            }
        }

        function showLogExample() {
            const example = document.getElementById('logExample');
            example.style.display = example.style.display === 'none' ? 'block' : 'none';
        }

        function explainLogComponent(component) {
            const explanation = document.getElementById('logComponentExplanation');
            const title = document.getElementById('logComponentTitle');
            const description = document.getElementById('logComponentDescription');

            const components = {
                timestamp: {
                    title: "‚è∞ Timestamps",
                    description: "ISO 8601 format timestamps showing exactly when each operation occurred. Useful for measuring performance and identifying bottlenecks."
                },
                groups: {
                    title: "üìÅ Log Groups",
                    description: "##[group] markers create collapsible sections in the UI to organize related log output. Makes long logs easier to navigate."
                },
                output: {
                    title: "üí¨ Command Output",
                    description: "The actual output from your commands and scripts. This is what you'd see if running the commands locally in your terminal."
                },
                system: {
                    title: "üñ•Ô∏è System Messages",
                    description: "Information about the runner environment, cleanup operations, and GitHub Actions infrastructure. Usually can be ignored unless debugging runner issues."
                }
            };

            if (components[component]) {
                title.textContent = components[component].title;
                description.textContent = components[component].description;
                explanation.style.display = 'block';
            }
        }

        function showTroubleshooting(issueType) {
            const details = document.getElementById('troubleshootingDetails');
            const title = document.getElementById('troubleshootingTitle');
            const description = document.getElementById('troubleshootingDescription');
            const solution = document.getElementById('troubleshootingSolution');

            const issues = {
                permission: {
                    title: "üîí Permission Issues",
                    description: "Common when workflows try to access protected resources or write to repository.",
                    solution: `# Common Solutions:
1. Check repository settings ‚Üí Actions ‚Üí General
2. Ensure "Read and write permissions" is enabled
3. For protected branches, add branch protection rules
4. Use secrets for sensitive tokens:
   env:
     GITHUB_TOKEN: \${{ secrets.GITHUB_TOKEN }}`
                },
                syntax: {
                    title: "üìù YAML Syntax Errors",
                    description: "YAML is indentation-sensitive and has strict formatting rules.",
                    solution: `# Common YAML Fixes:
‚úÖ Use spaces, not tabs for indentation
‚úÖ Ensure consistent indentation (2 or 4 spaces)
‚úÖ Quote strings with special characters
‚úÖ Check array formatting:
   branches: [ main, develop ]  # or
   branches:
     - main
     - develop`
                },
                timeout: {
                    title: "‚è±Ô∏è Timeout Issues",
                    description: "Jobs have default 6-hour timeout, steps have 10-minute default timeout.",
                    solution: `# Increase timeouts:
jobs:
  build:
    timeout-minutes: 60  # Job timeout
    steps:
    - name: Long running task
      run: ./long-script.sh
      timeout-minutes: 30  # Step timeout`
                },
                dependencies: {
                    title: "üì¶ Dependency Problems",
                    description: "Missing packages, wrong versions, or installation failures.",
                    solution: `# Dependency Solutions:
1. Pin specific versions:
   - name: Setup Python
     uses: actions/setup-python@v4
     with:
       python-version: '3.9.16'

2. Cache dependencies:
   - name: Cache pip
     uses: actions/cache@v3
     with:
       path: ~/.cache/pip
       key: \${{ runner.os }}-pip-\${{ hashFiles('requirements.txt') }}`
                }
            };

            if (issues[issueType]) {
                title.textContent = issues[issueType].title;
                description.textContent = issues[issueType].description;
                solution.textContent = issues[issueType].solution;
                solution.style.display = 'block';
                details.style.display = 'block';
            }
        }

        function startCIQuiz() {
            ciQuizIndex = 0;
            ciQuizScore = 0;
            document.getElementById('ciQuiz').style.display = 'block';
            showCIQuestion();
        }

        function showCIQuestion() {
            if (ciQuizIndex < ciQuizData.length) {
                const question = ciQuizData[ciQuizIndex];
                document.getElementById('ciQuizQuestion').textContent = question.question;

                let optionsHtml = '';
                question.options.forEach((option, index) => {
                    optionsHtml += `
                        <div class="workflow-step" onclick="selectCIAnswer(${index})" style="margin: 10px 0; cursor: pointer;">
                            ${option}
                        </div>
                    `;
                });

                document.getElementById('ciQuizOptions').innerHTML = optionsHtml;
                document.getElementById('ciNextBtn').style.display = 'none';
            } else {
                endCIQuiz();
            }
        }

        function selectCIAnswer(selectedIndex) {
            const question = ciQuizData[ciQuizIndex];
            const options = document.querySelectorAll('#ciQuizOptions .workflow-step');

            options.forEach((option, index) => {
                if (index === question.correct) {
                    option.style.background = 'rgba(76, 175, 80, 0.3)';
                    option.style.borderColor = '#4CAF50';
                } else if (index === selectedIndex && index !== question.correct) {
                    option.style.background = 'rgba(244, 67, 54, 0.3)';
                    option.style.borderColor = '#f44336';
                }
                option.onclick = null;
            });

            if (selectedIndex === question.correct) {
                ciQuizScore++;
            }

            document.getElementById('ciNextBtn').style.display = 'block';
        }

        function nextCIQuestion() {
            ciQuizIndex++;
            showCIQuestion();
        }

        function endCIQuiz() {
            const percentage = Math.round((ciQuizScore / ciQuizData.length) * 100);
            document.getElementById('ciQuiz').innerHTML = `
                <div class="highlight">
                    <h3>üéä CI Pipeline Quiz Complete!</h3>
                    <p>You scored ${ciQuizScore}/${ciQuizData.length} (${percentage}%)</p>
                    <p>${percentage >= 75 ? 'üèÜ CI Pipeline Master! Ready for production workflows!' : 'üìö Good progress! Review the CI pipeline concepts for mastery.'}</p>
                    <button class="btn" onclick="startCIQuiz()">Retake CI Quiz</button>
                </div>
            `;
        }

        // Intersection Observer for scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        });

        document.querySelectorAll('.section').forEach(section => {
            observer.observe(section);
        });

        // Initialize
        window.addEventListener('load', () => {
            document.querySelector('.section').classList.add('visible');
        });
    </script>
</body>
</html>
