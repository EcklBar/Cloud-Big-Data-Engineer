<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB - ××“×¨×™×š ××§×™×£</title>
    <style>
        :root {
            --primary-green: #00ed64;
            --primary-dark: #001e2b;
            --mongodb-green: #13aa52;
            --accent-blue: #116149;
            --accent-orange: #e67e22;
            --accent-red: #e74c3c;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #555;
            --border-color: #e9ecef;
            --shadow-md: 0 5px 15px rgba(0, 0, 0, 0.1);
            --space-md: 20px;
            --radius-md: 10px;
            --transition-normal: 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #001e2b 0%, #13aa52 100%);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 20px auto;
            background: var(--bg-primary);
            border-radius: 20px;
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--mongodb-green) 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .mongodb-logo {
            font-size: 3rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .search-container {
            padding: 30px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .search-box {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1rem;
            border: 2px solid var(--border-color);
            border-radius: 50px;
            outline: none;
            transition: all var(--transition-normal);
        }

        .search-box:focus {
            border-color: var(--mongodb-green);
            box-shadow: 0 0 20px rgba(19, 170, 82, 0.2);
        }

        /* Top Navigation */
        .nav-container {
            background: white;
            border-bottom: 2px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 12px 20px;
            overflow-x: auto;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 24px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .nav-btn:hover {
            background: rgba(19, 170, 82, 0.1);
            color: var(--mongodb-green);
        }

        .nav-btn.active {
            background: var(--mongodb-green);
            color: white;
            box-shadow: 0 2px 8px rgba(19, 170, 82, 0.3);
        }

        .main-content {
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section h2 {
            color: var(--primary-dark);
            font-size: 2rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--mongodb-green);
        }

        .section h3 {
            color: var(--text-primary);
            font-size: 1.5rem;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .info-box, .warning-box, .success-box {
            padding: 20px;
            border-radius: var(--radius-md);
            margin: 20px 0;
            border-right: 4px solid;
        }

        .info-box {
            background: rgba(19, 170, 82, 0.1);
            border-color: var(--mongodb-green);
        }

        .warning-box {
            background: rgba(231, 76, 60, 0.1);
            border-color: var(--accent-red);
        }

        .success-box {
            background: rgba(0, 237, 100, 0.1);
            border-color: var(--primary-green);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius-md);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            text-align: center;
            border-top: 4px solid var(--mongodb-green);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h4 {
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: var(--radius-md);
            margin: 20px 0;
            overflow-x: auto;
            direction: ltr;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            cursor: pointer;
            transition: background 0.3s;
            white-space: pre-wrap;
            word-break: break-word;
            position: relative;
        }

        .code-block:hover {
            background: #2a2a2a;
        }

        .code-block::before {
            content: 'ğŸ“‹ ×œ×—×¥ ×œ×”×¢×ª×§×”';
            position: absolute;
            top: 8px;
            left: 8px;
            font-size: 0.7rem;
            background: rgba(0,0,0,0.6);
            color: #94a3b8;
            padding: 4px 10px;
            border-radius: 4px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .code-block:hover::before {
            opacity: 1;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: right;
            border: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--mongodb-green);
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        .copy-notification {
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--mongodb-green);
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            transform: translateX(-400px);
            transition: transform 0.3s;
            z-index: 1000;
        }

        .copy-notification.show {
            transform: translateX(0);
        }

        .highlight {
            background: var(--primary-green);
            padding: 2px 4px;
            border-radius: 3px;
            color: var(--primary-dark);
        }

        ul { padding-right: 25px; margin: 15px 0; }
        li { margin-bottom: 10px; }
        strong { color: var(--primary-dark); }
        code { background: var(--bg-secondary); padding: 2px 6px; border-radius: 3px; font-family: monospace; }

        /* === SOLUTION TOGGLE === */
        .solution-toggle {
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, var(--primary-dark), var(--mongodb-green));
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s;
        }

        .solution-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(19, 170, 82, 0.4);
        }

        .solution-content {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 237, 100, 0.1);
            border-right: 4px solid var(--primary-green);
            border-radius: 8px;
        }

        .solution-content.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        /* === TABLES === */
        .reference-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            background: white;
        }

        .reference-table thead {
            background: var(--mongodb-green);
            color: white;
        }

        .reference-table th {
            padding: 14px;
            text-align: right;
            border: 1px solid var(--border-color);
            font-weight: 700;
        }

        .reference-table td {
            padding: 12px;
            border: 1px solid var(--border-color);
        }

        .reference-table tr:hover {
            background: #f8f9fa;
        }

        /* === DARK MODE === */
        body.dark-mode {
            background: linear-gradient(135deg, #0a0f14 0%, #0d3d2b 100%);
        }

        body.dark-mode .container {
            background: #1a1c20;
            color: #e2e8f0;
        }

        body.dark-mode .header {
            background: linear-gradient(135deg, #000000 0%, #13aa52 100%);
        }

        body.dark-mode .search-container {
            background: #2d3748;
            border-bottom-color: #4a5568;
        }

        body.dark-mode .search-box {
            background: #374151;
            color: #e2e8f0;
            border-color: #4a5568;
        }

        body.dark-mode .nav-container {
            background: #2d3748;
            border-bottom-color: #4a5568;
        }

        body.dark-mode .nav-btn {
            color: #cbd5e1;
        }

        body.dark-mode .nav-btn:hover {
            background: rgba(19, 170, 82, 0.2);
            color: var(--mongodb-green);
        }

        body.dark-mode .nav-btn.active {
            background: var(--mongodb-green);
            color: white;
        }

        body.dark-mode .section h2 {
            color: #e2e8f0;
            border-bottom-color: var(--mongodb-green);
        }

        body.dark-mode .section h3,
        body.dark-mode .section h4 {
            color: #cbd5e1;
        }

        body.dark-mode .section p,
        body.dark-mode .section li {
            color: #cbd5e1;
        }

        body.dark-mode .info-box {
            background: rgba(19, 170, 82, 0.15);
            border-color: var(--mongodb-green);
        }

        body.dark-mode .warning-box {
            background: rgba(231, 76, 60, 0.15);
            border-color: var(--accent-red);
        }

        body.dark-mode .success-box {
            background: rgba(0, 237, 100, 0.15);
            border-color: var(--primary-green);
        }

        body.dark-mode .feature-card {
            background: #2d3748;
            border-top-color: var(--mongodb-green);
        }

        body.dark-mode .feature-card h4 {
            color: var(--mongodb-green);
        }

        body.dark-mode .comparison-table {
            background: #2d3748;
        }

        body.dark-mode .comparison-table thead {
            background: var(--mongodb-green);
        }

        body.dark-mode .comparison-table tr:nth-child(even) {
            background: #374151;
        }

        body.dark-mode .reference-table {
            background: #2d3748;
        }

        body.dark-mode .reference-table tr:hover {
            background: #374151;
        }

        body.dark-mode strong {
            color: var(--primary-green);
        }

        body.dark-mode code {
            background: #374151;
            color: var(--primary-green);
        }

        @media (max-width: 768px) {
            .nav-tabs {
                justify-content: flex-start;
                overflow-x: scroll;
                flex-wrap: nowrap;
            }

            .nav-btn {
                padding: 10px 18px;
                font-size: 0.85rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .main-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div style="font-size: 0.9rem; font-weight: 600; letter-spacing: 2px; opacity: 0.9; margin-bottom: 10px;">
                DATA ENGINEERING HUB
            </div>
            <h1>
                <span class="mongodb-logo">ğŸƒ</span>
                MongoDB - ××“×¨×™×š ××§×™×£
            </h1>
            <p>××¡×“ × ×ª×•× ×™× NoSQL ×œ××”× ×“×¡×™ × ×ª×•× ×™× | ××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™</p>
        </header>

        <div class="search-container">
            <div style="max-width: 1200px; margin: 0 auto; display: flex; gap: 15px; align-items: center;">
                <input type="text" class="search-box" placeholder="ğŸ” ×—×¤×© ×¤×§×•×“×•×ª, ××•×©×’×™× ××• × ×•×©××™×..." id="searchInput" style="flex: 1;">
                <button id="darkModeToggle" onclick="toggleDarkMode()" style="background: var(--mongodb-green); border: none; padding: 12px 24px; border-radius: 25px; color: white; cursor: pointer; font-weight: 600; transition: all 0.3s; font-family: 'Segoe UI', sans-serif; white-space: nowrap;">
                    ğŸŒ™ ××¦×‘ ×œ×™×œ×”
                </button>
            </div>
        </div>

        <!-- Top Navigation Bar -->
        <div class="nav-container">
            <div class="nav-tabs">
                <button class="nav-btn active" onclick="switchSection('intro')">ğŸƒ ××‘×•×</button>
                <button class="nav-btn" onclick="switchSection('data-model')">ğŸ—‚ï¸ ××•×“×œ × ×ª×•× ×™×</button>
                <button class="nav-btn" onclick="switchSection('indexes')">ğŸ” Indexes</button>
                <button class="nav-btn" onclick="switchSection('deployment')">ğŸš€ Deployment</button>
                <button class="nav-btn" onclick="switchSection('replication')">ğŸ”„ Replication</button>
                <button class="nav-btn" onclick="switchSection('sharding')">ğŸ“Š Sharding</button>
                <button class="nav-btn" onclick="switchSection('crud')">âš™ï¸ CRUD</button>
                <button class="nav-btn" onclick="switchSection('kafka')">ğŸ”Œ Kafka</button>
                <button class="nav-btn" onclick="switchSection('exercises')">ğŸ’ª ×ª×¨×’×™×œ×™×</button>
                <button class="nav-btn" onclick="switchSection('troubleshooting')">ğŸ”§ ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª</button>
                <button class="nav-btn" onclick="switchSection('bestpractices')">âœ¨ Best Practices</button>
            </div>
        </div>

        <div style="padding: 20px;">
            <main class="main-content">
                <!-- ××‘×•× -->
                <section class="section active" id="intro">
                    <h2>ğŸƒ ××”×• MongoDB?</h2>

                    <div class="info-box">
                        <h3>×”×’×“×¨×”</h3>
                        <p><strong>MongoDB</strong> ×”×•× ××¡×“ × ×ª×•× ×™× ××¡×•×’ document-oriented, ×§×•×“ ×¤×ª×•×— ×•×—×•×¦×” ×¤×œ×˜×¤×•×¨××•×ª</p>
                        <ul>
                            <li>××¡×¤×§ ×‘×™×¦×•×¢×™× ×’×‘×•×”×™×, ×–××™× ×•×ª ×’×‘×•×”×” ×•×¡×§×œ×‘×™×œ×™×•×ª ××•×˜×•××˜×™×ª</li>
                            <li>×¢×•×‘×“ ×¢×œ ×‘×¡×™×¡ <strong>Collection</strong> ×•-<strong>Document</strong> (JSON)</li>
                            <li>×¨×©×•××” ×‘-MongoDB ×”×™× <strong>document</strong> - ××‘× ×” × ×ª×•× ×™× ×”××•×¨×›×‘ ××–×•×’×•×ª ×©×“×”-×¢×¨×š</li>
                            <li>×¢×¨×›×™ ×©×“×•×ª ×™×›×•×œ×™× ×œ×›×œ×•×œ documents ××•×˜××¢×™×, ××¢×¨×›×™× ×•××¢×¨×›×™× ×©×œ documents</li>
                        </ul>
                    </div>

                    <h3>×××¤×™×™× ×™× ×•×™×ª×¨×•× ×•×ª</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>ğŸ“ JSON Documents</h4>
                            <p>Documents ××™×•×¦×’×™× ×›××•×‘×™×™×§×˜×™ JSON</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ’¾ BSON Storage</h4>
                            <p>××—×¡×•×Ÿ ×›-BSON (Binary JSON)</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ¯ Native Types</h4>
                            <p>×ª×•×× ×œ×˜×™×¤×•×¡×™ × ×ª×•× ×™× ××§×•×¨×™×™×</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ”— Embedded Data</h4>
                            <p>××¢×¨×›×™× ××•×˜××¢×™× ××¤×—×™×ª×™× ×¦×•×¨×š ×‘-joins</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ” Flexible Indexing</h4>
                            <p>×™×›×•×œ×ª indexing ×’××™×©×”</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸŒ Multi-Language</h4>
                            <p>×ª××™×›×” ×‘×©×¤×•×ª ×ª×›× ×•×ª ×¨×‘×•×ª</p>
                        </div>
                    </div>

                    <h3>×œ××” ×œ×”×©×ª××© ×‘-MongoDB?</h3>
                    <div class="success-box">
                        <ul>
                            <li><strong>Schemaless</strong> - collection ××—×“ ××›×™×œ documents ×©×•× ×™×</li>
                            <li><strong>××‘× ×” ×‘×¨×•×¨</strong> - ×”××‘× ×” ×©×œ object ×‘×•×“×“ ×‘×¨×•×¨ ×•×§×¨×™×</li>
                            <li><strong>×œ×œ× joins ××•×¨×›×‘×™×</strong></li>
                            <li><strong>Deep query-ability</strong> - ×ª××™×›×” ×‘×©××™×œ×ª×•×ª ×“×™× ××™×•×ª ×—×–×§×•×ª</li>
                            <li><strong>Scale-Out ×§×œ</strong> - MongoDB ×§×œ ×œ×”×¨×—×‘×”</li>
                            <li><strong>Replication & High Availability</strong></li>
                            <li><strong>Auto-Sharding</strong></li>
                            <li><strong>Pluggable Storage Engines</strong></li>
                        </ul>
                    </div>
                </section>

                <!-- ×¤×•×¨××˜ Document -->
                <section class="section" id="document">
                    <h2>ğŸ“„ MongoDB Document - ×¤×•×¨××˜ JSON</h2>

                    <div class="info-box">
                        <h3>×“×•×’××ª Document</h3>
                    </div>

                    <div class="code-block">{
  "first_name": "Paul",
  "surname": "Miller",
  "cell": 447557505611,
  "city": "London",
  "location": [45.123, 47.232],
  "profession": ["banking", "finance", "trader"],
  "cars": [
    {
      "model": "Bentley",
      "year": 1973,
      "value": 100000
    },
    {
      "model": "Rolls Royce",
      "year": 1965,
      "value": 330000
    }
  ]
}</div>

                    <h3>×©×“×” ×”-_id</h3>
                    <div class="success-box">
                        <p><strong>×›×œ ×¤×¨×™×˜ ×‘-MongoDB ××›×™×œ ×©×“×” _id ×©××©××© ×›-Primary Key</strong></p>
                        <ul>
                            <li>× ×™×ª×Ÿ ×œ×™×¦×•×¨ ××•×ª×• ××¤×•×¨×©×•×ª ××• ×©×™×•×¦×¨ ××•×˜×•××˜×™×ª ×¢×œ ×™×“×™ MongoDB</li>
                            <li><strong>_id ×××•-indexed ××•×˜×•××˜×™×ª</strong> - ×—×™×¤×•×©×™× ×œ×¤×™ _id ××©×ª××©×™× ×‘-index</li>
                            <li>×‘×¨×™×¨×ª ××—×“×œ: ×©×“×” _id ×”×•× <strong>ObjectID</strong> - ××—×“ ××˜×™×¤×•×¡×™ BSON</li>
                        </ul>
                    </div>

                    <h3>×“×•×’××ª ObjectID</h3>
                    <div class="code-block">// ObjectID structure
ObjectId("507f1f77bcf86cd799439011")

// Components:
// 4-byte timestamp value
// 5-byte random value
// 3-byte incrementing counter</div>
                </section>

                <!-- ××•×“×œ × ×ª×•× ×™× -->
                <section class="section" id="data-model">
                    <h2>ğŸ—‚ï¸ ××•×“×œ ×”× ×ª×•× ×™× ×‘-MongoDB</h2>

                    <h3>1ï¸âƒ£ Database</h3>
                    <div class="info-box">
                        <ul>
                            <li><strong>Physical Container</strong> ×¢×‘×•×¨ collections</li>
                            <li>×›×œ database ××§×‘×œ ×§×‘×•×¦×ª ×§×‘×¦×™× ××©×œ×• ×‘××¢×¨×›×ª ×”×§×‘×¦×™×</li>
                            <li>×©×¨×ª MongoDB ×™×—×™×“ ×‘×“×¨×š ×›×œ×œ ××›×™×œ ××¡×¤×¨ databases</li>
                        </ul>
                    </div>

                    <h3>2ï¸âƒ£ Collection</h3>
                    <div class="info-box">
                        <ul>
                            <li><strong>×§×‘×•×¦×” ×©×œ MongoDB documents</strong></li>
                            <li>×©×•×•×” ×¢×¨×š ×œ-<strong>Table</strong> ×‘-RDBMS</li>
                            <li>Collection ×§×™×™× ×‘×ª×•×š database ×‘×•×“×“</li>
                            <li><strong>Collections ×œ× ×›×•×¤×™× schema</strong></li>
                            <li>Documents ×‘×ª×•×š collection ×™×›×•×œ×™× ×œ×”×›×™×œ ×©×“×•×ª ×©×•× ×™×</li>
                            <li>×‘×“×¨×š ×›×œ×œ, ×›×œ ×”-documents ×‘-collection ×”× ×‘×¢×œ×™ ××˜×¨×” ×“×•××”</li>
                        </ul>
                    </div>

                    <h3>3ï¸âƒ£ Document</h3>
                    <div class="info-box">
                        <ul>
                            <li><strong>×¡×˜ ×©×œ ×–×•×’×•×ª key-value</strong> ×‘×™×™×¦×•×’ ×‘×™× ××¨×™ (BSON)</li>
                            <li><strong>Dynamic Schema</strong> - documents ×‘××•×ª×• collection ×œ× ×—×™×™×‘×™× ××•×ª× ×©×“×•×ª</li>
                            <li>×©×“×” ××©×•×ª×£ ×™×›×•×œ ×œ×”×›×™×œ ×˜×™×¤×•×¡×™ × ×ª×•× ×™× ×©×•× ×™×</li>
                            <li>×§×™×“×•×“ BSON ××¨×—×™×‘ ××ª JSON ×•××•×¡×™×£ ×˜×™×¤×•×¡×™× × ×•×¡×¤×™×: INT, LONG, DECIMAL, DATE</li>
                        </ul>
                    </div>

                    <h3>×”×©×•×•××ª ××™× ×•×—×™×: RDBMS â†” MongoDB</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>MongoDB</th>
                                <th>RDBMS</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Database</td>
                                <td>Database</td>
                            </tr>
                            <tr>
                                <td>Collection</td>
                                <td>Table</td>
                            </tr>
                            <tr>
                                <td>Document</td>
                                <td>Tuple/Row</td>
                            </tr>
                            <tr>
                                <td>Field</td>
                                <td>Column</td>
                            </tr>
                            <tr>
                                <td>Embedded Documents</td>
                                <td>Table Join</td>
                            </tr>
                            <tr>
                                <td>Primary Key (_id)</td>
                                <td>Primary Key</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Storage Engines -->
                <section class="section" id="storage">
                    <h2>ğŸ’¾ Storage Engines ×‘-MongoDB</h2>

                    <div class="info-box">
                        <h3>××”× Storage Engines?</h3>
                        <ul>
                            <li>MongoDB × ×™×ª×Ÿ ×œ×”×¨×—×‘×” ×¢× ×™×›×•×œ×•×ª ×—×“×©×•×ª ×‘×××¦×¢×•×ª <strong>pluggable storage engines</strong></li>
                            <li>× ×™×ª×Ÿ ×œ×¢×¨×‘×‘ ×•×œ×”×ª××™× ××¡×¤×¨ storage engines ×‘×ª×•×š cluster ×™×—×™×“</li>
                            <li>×’××™×©×•×ª ×–×• ××¡×¤×§×ª ×’×™×©×” ×¤×©×•×˜×” ×•×××™× ×” ×œ×ª××™×›×” ×‘×¢×•××¡×™ ×¢×‘×•×“×” ××’×•×•× ×™×</li>
                        </ul>
                    </div>

                    <h3>ğŸ”· WiredTiger (Default)</h3>
                    <div class="success-box">
                        <p><strong>Storage engine ×‘×¨×™×¨×ª ×”××—×“×œ ×©×œ MongoDB</strong></p>
                        <ul>
                            <li>×‘×§×¨×ª concurrency ×‘×¨××ª granular</li>
                            <li>×“×—×™×¡×” ××§×•×¨×™×ª (native compression)</li>
                            <li>×”×‘×™×¦×•×¢×™× ×•×”×™×¢×™×œ×•×ª ×”×˜×•×‘×™× ×‘×™×•×ª×¨ ×¢×‘×•×¨ ×¨×•×‘ ×”××¤×œ×™×§×¦×™×•×ª</li>
                            <li><strong>Document-Level Concurrency Control</strong></li>
                            <li>×ª××™×›×” ×‘×“×—×™×¡×ª ×“×™×¡×§</li>
                        </ul>
                    </div>

                    <h3>ğŸ”’ Encrypted Storage Engine</h3>
                    <div class="info-box">
                        <ul>
                            <li>××’×Ÿ ×¢×œ × ×ª×•× ×™× ×¨×’×™×©×™× ×‘×™×•×ª×¨</li>
                            <li>×œ×œ× overhead ×©×œ ×‘×™×¦×•×¢×™× ××• × ×™×”×•×œ ×©×œ ×”×¦×¤× ×ª filesystem × ×¤×¨×“×ª</li>
                            <li>××‘×•×¡×¡ ×¢×œ WiredTiger</li>
                            <li><strong>×—×œ×§ ×-MongoDB Enterprise Edition</strong></li>
                        </ul>
                    </div>

                    <h3>âš¡ In-Memory Storage Engine</h3>
                    <div class="info-box">
                        <ul>
                            <li>××¡×¤×§ latency ×¦×¤×•×™ ×•×× ×œ×™×˜×™×§×” ×‘×–××Ÿ ×××ª</li>
                            <li>×¢×‘×•×¨ ××¤×œ×™×§×¦×™×•×ª ×”×“×•×¨×©×•×ª ×‘×™×¦×•×¢×™× ××™×¨×‘×™×™×</li>
                            <li><strong>×—×œ×§ ×-MongoDB Enterprise Advanced</strong></li>
                            <li>Excellent Predictable Latency (99%)</li>
                            <li><strong>×œ× ×ª×•××š ×‘-datasets ×’×“×•×œ×™× ×-RAM</strong></li>
                        </ul>
                    </div>

                    <h3>âš ï¸ MMAPv1 (Deprecated)</h3>
                    <div class="warning-box">
                        <ul>
                            <li>××¡×•×¤×§ ×œ×ª××™××•×ª ×œ××—×•×¨ ×‘×œ×‘×“</li>
                            <li><strong>××•×¦×”×¨ deprecated ××’×¨×¡×” 4.0</strong></li>
                            <li>Collection-Level Concurrency Control (×œ× document-level)</li>
                            <li>××™×Ÿ ×ª××™×›×” ×‘×“×—×™×¡×”</li>
                        </ul>
                    </div>

                    <h3>×”×©×•×•××ª Storage Engines</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>MMAPv1</th>
                                <th>Encrypted</th>
                                <th>In-Memory</th>
                                <th>WiredTiger</th>
                                <th>×××¤×™×™×Ÿ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Good</td>
                                <td>Good</td>
                                <td>Excellent</td>
                                <td>Excellent</td>
                                <td>Write Performance</td>
                            </tr>
                            <tr>
                                <td>Good</td>
                                <td>Good</td>
                                <td>Excellent</td>
                                <td>Excellent</td>
                                <td>Read Performance</td>
                            </tr>
                            <tr>
                                <td>Good</td>
                                <td>Good</td>
                                <td>Excellent</td>
                                <td>Good</td>
                                <td>Predictable Latency</td>
                            </tr>
                            <tr>
                                <td>No</td>
                                <td>Yes</td>
                                <td>N/A</td>
                                <td>Yes</td>
                                <td>Disk Compression</td>
                            </tr>
                            <tr>
                                <td>No</td>
                                <td>Yes</td>
                                <td>N/A</td>
                                <td>No</td>
                                <td>Native Encryption</td>
                            </tr>
                            <tr>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>No</td>
                                <td>Yes</td>
                                <td>Larger than RAM</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Indexes -->
                <section class="section" id="indexes">
                    <h2>ğŸ” MongoDB Indexes</h2>

                    <div class="info-box">
                        <h3>××”× Indexes?</h3>
                        <p><strong>Indexes ×ª×•××›×™× ×‘×‘×™×¦×•×¢ ×™×¢×™×œ ×©×œ queries ×‘-MongoDB</strong></p>
                        <ul>
                            <li>×‘×œ×™ indexes, MongoDB ×—×™×™×‘ ×œ×¡×¨×•×§ ×›×œ document (collection scan)</li>
                            <li>Indexes ×××—×¡× ×™× ×—×œ×§ ×§×˜×Ÿ ××”-dataset ×‘×¦×•×¨×” ×§×œ×” ×œ××¢×‘×¨</li>
                            <li>MongoDB ×™×•×¦×¨ index ×™×™×—×•×“×™ ×¢×œ ×©×“×” _id ×‘××•×¤×Ÿ ××•×˜×•××˜×™</li>
                        </ul>
                    </div>

                    <h3>×¡×•×’×™ Indexes</h3>

                    <h4>1ï¸âƒ£ Single Field Index</h4>
                    <div class="code-block">// Create single field index
db.collection.createIndex({ field: 1 })  // 1 = ascending
db.collection.createIndex({ field: -1 }) // -1 = descending

// Example:
db.products.createIndex({ price: 1 })</div>

                    <h4>2ï¸âƒ£ Compound Index</h4>
                    <div class="code-block">// Create compound index on multiple fields
db.collection.createIndex({ field1: 1, field2: -1 })

// Example:
db.products.createIndex({ category: 1, price: -1 })

// ×¡×“×¨ ×”×©×“×•×ª ×—×©×•×‘!
// ×”×ª×•××š ×‘×©××™×œ×ª×•×ª ×¢×œ:
// 1. category
// 2. category + price
// ××‘×œ ×œ× ×¨×§ price</div>

                    <h4>3ï¸âƒ£ Multikey Index</h4>
                    <div class="code-block">// Index on array fields
db.collection.createIndex({ arrayField: 1 })

// Example:
db.products.createIndex({ tags: 1 })

// MongoDB ×™×•×¦×¨ index entry × ×¤×¨×“ ×œ×›×œ ××œ×× ×˜ ×‘××¢×¨×š</div>

                    <h4>4ï¸âƒ£ Text Index</h4>
                    <div class="code-block">// Create text index for text search
db.collection.createIndex({ field: "text" })

// Example:
db.articles.createIndex({ title: "text", content: "text" })

// Search:
db.articles.find({ $text: { $search: "mongodb tutorial" } })</div>

                    <h4>5ï¸âƒ£ Geospatial Index</h4>
                    <div class="code-block">// 2d index for flat geometry
db.collection.createIndex({ location: "2d" })

// 2dsphere index for spherical geometry
db.collection.createIndex({ location: "2dsphere" })

// Example query:
db.places.find({
  location: {
    $near: {
      $geometry: { type: "Point", coordinates: [ -73.9667, 40.78 ] },
      $maxDistance: 5000
    }
  }
})</div>

                    <h3>× ×™×”×•×œ Indexes</h3>
                    <div class="code-block">// List all indexes
db.collection.getIndexes()

// Drop index
db.collection.dropIndex("index_name")
db.collection.dropIndex({ field: 1 })

// Drop all indexes (except _id)
db.collection.dropIndexes()

// Get index statistics
db.collection.stats().indexSizes</div>

                    <h3>Index Properties</h3>
                    <div class="code-block">// Unique index
db.collection.createIndex({ email: 1 }, { unique: true })

// Sparse index (only indexes documents with the field)
db.collection.createIndex({ field: 1 }, { sparse: true })

// TTL index (auto-delete after time)
db.collection.createIndex(
  { createdAt: 1 },
  { expireAfterSeconds: 3600 }
)

// Partial index (with filter)
db.collection.createIndex(
  { status: 1 },
  { partialFilterExpression: { rating: { $gt: 5 } } }
)</div>

                    <div class="success-box">
                        <p><strong>ğŸ’¡ Best Practices:</strong></p>
                        <ul>
                            <li>×¦×•×¨ indexes ×¢×‘×•×¨ queries ×ª×›×•×¤×™×</li>
                            <li>×”×©×ª××© ×‘-compound indexes ×œ×©××™×œ×ª×•×ª ××¨×•×‘×•×ª ×©×“×•×ª</li>
                            <li>×× ×˜×¨ ××ª ×‘×™×¦×•×¢×™ ×”-indexes ×¢× <code>explain()</code></li>
                            <li>×–×›×•×¨: indexes ××©×¤×¨×™× read ××‘×œ ×××˜×™× write</li>
                        </ul>
                    </div>
                </section>

                <!-- Deployment -->
                <section class="section" id="deployment">
                    <h2>ğŸš€ MongoDB Deployment</h2>

                    <h3>×¡×•×’×™ Deployment</h3>

                    <h4>1ï¸âƒ£ Standalone</h4>
                    <div class="info-box">
                        <p><strong>Instance ×™×—×™×“ ×©×œ MongoDB</strong></p>
                        <ul>
                            <li>×¤×©×•×˜ ×‘×™×•×ª×¨ ×œ×”×ª×§× ×”</li>
                            <li>××ª××™× ×œ×¤×™×ª×•×— ×•×‘×“×™×§×•×ª</li>
                            <li>âŒ ××™×Ÿ redundancy ××• high availability</li>
                            <li>âŒ ×œ× ××•××œ×¥ ×œ×™×™×¦×•×¨</li>
                        </ul>
                    </div>

                    <div class="code-block">// Start standalone MongoDB
mongod --port 27017 --dbpath /data/db

// Connect
mongo --host localhost:27017</div>

                    <h4>2ï¸âƒ£ Replica Set</h4>
                    <div class="success-box">
                        <p><strong>×§×‘×•×¦×” ×©×œ MongoDB instances ×©×©×•××¨×™× ××ª ××•×ª×• dataset</strong></p>
                        <ul>
                            <li>âœ… High Availability</li>
                            <li>âœ… Data Redundancy</li>
                            <li>âœ… Automatic Failover</li>
                            <li>Primary node ××§×‘×œ ×›×œ ×”-writes</li>
                            <li>Secondary nodes ××©×›×¤×œ×™× ××ª ×”× ×ª×•× ×™×</li>
                            <li>××™× ×™××•× 3 nodes (××• 2 + arbiter)</li>
                        </ul>
                    </div>

                    <h4>3ï¸âƒ£ Sharded Cluster</h4>
                    <div class="success-box">
                        <p><strong>××—×œ×§ × ×ª×•× ×™× ×¢×œ ×¤× ×™ ××¡×¤×¨ machines</strong></p>
                        <ul>
                            <li>âœ… Horizontal Scaling</li>
                            <li>âœ… Large Datasets</li>
                            <li>âœ… High Throughput</li>
                            <li>××•×¨×›×‘ ×: shards, config servers, mongos routers</li>
                        </ul>
                    </div>
                </section>

                <!-- Replication -->
                <section class="section" id="replication">
                    <h2>ğŸ”„ MongoDB Replication</h2>

                    <div class="info-box">
                        <h3>××”×™ Replication?</h3>
                        <p><strong>Replication ××¡× ×›×¨× ×ª × ×ª×•× ×™× ×¢×œ ×¤× ×™ ××¡×¤×¨ servers</strong></p>
                        <ul>
                            <li>××¡×¤×§×ª redundancy ×•×–××™× ×•×ª ×’×‘×•×”×”</li>
                            <li>××’× ×” ××¤× ×™ ××•×‘×“×Ÿ server ×‘×•×“×“</li>
                            <li>×××¤×©×¨×ª disaster recovery</li>
                            <li>××¡×¤×§×ª read capacity × ×•×¡×¤×ª</li>
                        </ul>
                    </div>

                    <h3>Replica Set - ×¨×›×™×‘×™×</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>ğŸ‘‘ Primary</h4>
                            <p>××§×‘×œ ××ª ×›×œ ×¤×¢×•×œ×•×ª ×”×›×ª×™×‘×”</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ“š Secondary</h4>
                            <p>××©×›×¤×œ ××”-Primary</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ—³ï¸ Arbiter</h4>
                            <p>××©×ª×ª×£ ×‘×”×¦×‘×¢×•×ª (×œ× ××—×–×™×§ data)</p>
                        </div>
                    </div>

                    <h3>×”×§××ª Replica Set</h3>
                    <div class="code-block">// Initialize replica set
rs.initiate({
  _id: "myReplicaSet",
  members: [
    { _id: 0, host: "mongodb0.example.net:27017" },
    { _id: 1, host: "mongodb1.example.net:27017" },
    { _id: 2, host: "mongodb2.example.net:27017" }
  ]
})

// Check status
rs.status()

// Add member
rs.add("mongodb3.example.net:27017")

// Remove member
rs.remove("mongodb3.example.net:27017")</div>

                    <h3>Automatic Failover</h3>
                    <div class="success-box">
                        <p><strong>×›××©×¨ Primary × ×›×©×œ:</strong></p>
                        <ul>
                            <li>Secondary nodes ××–×”×™× ××ª ×”×›×©×œ</li>
                            <li>××ª×‘×¦×¢×ª ×”×¦×‘×¢×” ××•×˜×•××˜×™×ª</li>
                            <li>Secondary ×¢× ×”× ×ª×•× ×™× ×”×¢×“×›× ×™×™× ×‘×™×•×ª×¨ × ×‘×—×¨ ×›-Primary ×—×“×©</li>
                            <li>×”×ª×”×œ×™×š ×œ×•×§×— ×‘×“×¨×š ×›×œ×œ 10-12 ×©× ×™×•×ª</li>
                        </ul>
                    </div>
                </section>

                <!-- Sharding -->
                <section class="section" id="sharding">
                    <h2>ğŸ“Š MongoDB Sharding</h2>

                    <div class="info-box">
                        <h3>××”×• Sharding?</h3>
                        <p><strong>Sharding ××—×œ×§ × ×ª×•× ×™× ×¢×œ ×¤× ×™ ××¡×¤×¨ machines</strong></p>
                        <ul>
                            <li>×××¤×©×¨ horizontal scaling</li>
                            <li>×ª×•××š ×‘-datasets ×¢× ×ª×¢×‘×•×¨×” ×’×‘×•×”×”</li>
                            <li>××¤×—×™×ª ××ª ×”×¢×•××¡ ×¢×œ server ×‘×•×“×“</li>
                        </ul>
                    </div>

                    <h3>×¨×›×™×‘×™ Sharded Cluster</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>ğŸ“¦ Shards</h4>
                            <p>××—×–×™×§×™× ××ª ×”× ×ª×•× ×™× (replica sets)</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ—ºï¸ Config Servers</h4>
                            <p>×××—×¡× ×™× metadata ×©×œ ×”-cluster</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ”€ Mongos</h4>
                            <p>Query routers - ×× ×ª×‘×™× queries</p>
                        </div>
                    </div>

                    <h3>Shard Keys</h3>
                    <div class="code-block">// Enable sharding on database
sh.enableSharding("myDatabase")

// Shard a collection
sh.shardCollection("myDatabase.myCollection", { userId: 1 })

// Range-based sharding
sh.shardCollection("myDatabase.logs", { timestamp: 1 })

// Hashed sharding (better distribution)
sh.shardCollection("myDatabase.users", { _id: "hashed" })

// Compound shard key
sh.shardCollection("myDatabase.events", { country: 1, userId: 1 })</div>

                    <div class="warning-box">
                        <p><strong>âš ï¸ ×‘×—×™×¨×ª Shard Key ×—×©×•×‘×” ×××•×“!</strong></p>
                        <ul>
                            <li>×œ× × ×™×ª×Ÿ ×œ×©× ×•×ª shard key ××—×¨×™ sharding</li>
                            <li>×‘×—×¨ key ×¢× cardinality ×’×‘×•×”</li>
                            <li>×”×™×× ×¢ ×-monotonically increasing keys (×›××• timestamp)</li>
                            <li>×©×§×•×œ ××ª ×“×¤×•×¡×™ ×”×’×™×©×” ×œ× ×ª×•× ×™×</li>
                        </ul>
                    </div>
                </section>

                <!-- Transactions -->
                <section class="section" id="transactions">
                    <h2>ğŸ’³ MongoDB Transactions</h2>

                    <div class="info-box">
                        <h3>Single-Document Transactions</h3>
                        <p><strong>MongoDB ××‘×˜×™×— atomicity ×‘×¨××ª document ×‘×•×“×“</strong></p>
                        <ul>
                            <li>×›×œ write operation ×œ-document ×‘×•×“×“ ×”×•× atomic</li>
                            <li>Embedded documents ×•-arrays ×ª×•×¤×¡×™× ×§×©×¨×™× ×‘×ª×•×š document ××—×“</li>
                            <li>Single-document atomicity ××‘×˜×œ ×¦×•×¨×š ×‘-multi-document transactions ×‘××§×¨×™× ×¨×‘×™×</li>
                        </ul>
                    </div>

                    <h3>Multi-Document Transactions</h3>
                    <div class="success-box">
                        <p><strong>×”×—×œ ××’×¨×¡×” 4.0: ×ª××™×›×” ×‘-multi-document transactions</strong></p>
                        <ul>
                            <li>×¢×‘×•×¨ ××¡×¤×¨ operations, collections, databases ×•-documents</li>
                            <li><strong>"All-or-Nothing"</strong> - ×”×›×œ ××¦×œ×™×— ××• ×”×›×œ × ×›×©×œ</li>
                            <li>×›×©transaction ××ª×‘×¦×¢, ×›×œ ×”×©×™× ×•×™×™× × ×©××¨×™×</li>
                            <li>×× operation × ×›×©×œ, ×”-transaction ××ª×‘×˜×œ ×•×›×œ ×”×©×™× ×•×™×™× × ××—×§×™×</li>
                            <li>×¢×“ ×©transaction ××ª×‘×¦×¢, ×”×©×™× ×•×™×™× ×œ× × ×¨××™× ××—×•×¥ ×œ-transaction</li>
                        </ul>
                    </div>

                    <h3>×©×™××•×© ×‘-Transactions</h3>
                    <div class="code-block">// Start a session
const session = db.getMongo().startSession()

// Start transaction
session.startTransaction()

try {
  const accountsCollection = session.getDatabase("bank").accounts

  // Debit from account A
  accountsCollection.updateOne(
    { _id: "A" },
    { $inc: { balance: -100 } },
    { session }
  )

  // Credit to account B
  accountsCollection.updateOne(
    { _id: "B" },
    { $inc: { balance: 100 } },
    { session }
  )

  // Commit transaction
  session.commitTransaction()
  print("Transaction committed")

} catch (error) {
  // Abort on error
  session.abortTransaction()
  print("Transaction aborted: " + error)

} finally {
  session.endSession()
}</div>

                    <h3>Transaction Methods</h3>
                    <div class="code-block">// Start transaction
Session.startTransaction()

// Commit transaction
Session.commitTransaction()

// Abort transaction
Session.abortTransaction()</div>

                    <div class="warning-box">
                        <p><strong>âš ï¸ Timeouts & Locks</strong></p>
                        <ul>
                            <li>×‘×¨×™×¨×ª ××—×“×œ: transaction ××—×›×” ×¢×“ 5 ××œ×¤×™×•×ª ×©× ×™×” ×œ×§×‘×œ×ª locks</li>
                            <li>×× ×œ× ××¦×œ×™×— ×œ×§×‘×œ locks, ×”-transaction ××ª×‘×˜×œ</li>
                            <li>× ×™×ª×Ÿ ×œ×”×’×“×™×¨ timeout ××¨×•×š ×™×•×ª×¨ ×‘×”×ª×× ×œ×¦×•×¨×š</li>
                        </ul>
                    </div>
                </section>

                <!-- CRUD Operations -->
                <section class="section" id="crud">
                    <h2>âš™ï¸ CRUD Operations ×‘-MongoDB</h2>

                    <h3>ğŸ”Œ ×”×ª×—×‘×¨×•×ª ×œ-MongoDB Shell</h3>
                    <div class="code-block">// Basic connection
mongo

// Connect to specific host and port
mongo --host mongodb1.example.com --port 27017

// Connect with authentication
mongo --host mongodb1.example.com --port 27017 \
  -u "myUserAdmin" -p "abc123" \
  --authenticationDatabase "admin"

// Get help
mongo --help</div>

                    <h3>ğŸ“š Database & Collection Commands</h3>
                    <div class="code-block">// Create/Switch to database
use mydb

// List databases
show dbs

// List collections
show collections

// Drop database
db.dropDatabase()

// Drop collection
db.collection.drop()

// Create collection explicitly
db.createCollection("users")

// Get help
help
db.help()
db.collection.help()
db.collection.find().help()</div>

                    <h3>ğŸ“ Create (Insert)</h3>
                    <div class="code-block">// Insert single document
db.users.insertOne({
  name: "Lev",
  email: "lev@example.com",
  age: 30
})

// Insert multiple documents
db.users.insertMany([
  { name: "Danny", email: "danny@example.com", age: 25 },
  { name: "Yoni", email: "yoni@example.com", age: 28 }
])

// Insert (old method)
db.users.insert({ name: "Sarah", email: "sarah@example.com" })</div>

                    <h3>ğŸ” Read (Query)</h3>
                    <div class="code-block">// Find all documents
db.users.find()

// Find with pretty print
db.users.find().pretty()

// Find one
db.users.findOne()

// Find with filter
db.users.find({ age: { $gte: 25 } })

// Find with projection (select specific fields)
db.users.find(
  { age: { $gte: 25 } },
  { name: 1, email: 1, _id: 0 }
)

// Limit results
db.users.find().limit(10)

// Skip results (offset)
db.users.find().skip(5).limit(10)

// Sort results
db.users.find().sort({ age: -1, name: 1 })

// Count documents
db.users.find({ age: { $gte: 25 } }).count()
db.users.countDocuments({ age: { $gte: 25 } })</div>

                    <h3>Query Operators</h3>
                    <div class="code-block">// Comparison operators
db.products.find({ price: { $gt: 100 } })      // greater than
db.products.find({ price: { $gte: 100 } })     // greater than or equal
db.products.find({ price: { $lt: 1000 } })     // less than
db.products.find({ price: { $lte: 1000 } })    // less than or equal
db.products.find({ price: { $eq: 500 } })      // equal
db.products.find({ price: { $ne: 500 } })      // not equal
db.products.find({ price: { $in: [100, 200, 300] } })
db.products.find({ price: { $nin: [100, 200] } })

// Logical operators
db.products.find({
  $and: [
    { price: { $gte: 100 } },
    { price: { $lte: 1000 } }
  ]
})

db.products.find({
  $or: [
    { category: "electronics" },
    { category: "computers" }
  ]
})

db.products.find({ price: { $not: { $gt: 1000 } } })

// Element operators
db.products.find({ discount: { $exists: true } })
db.products.find({ quantity: { $type: "number" } })

// Array operators
db.products.find({ tags: "sale" })              // contains
db.products.find({ tags: { $all: ["sale", "featured"] } })
db.products.find({ tags: { $size: 3 } })        // exact array length

// Regex
db.products.find({ name: /^AC/ })               // starts with AC
db.products.find({ name: { $regex: "laptop", $options: "i" } }) // case insensitive</div>

                    <h3>âœï¸ Update</h3>
                    <div class="code-block">// Update single document
db.users.updateOne(
  { _id: 1 },
  { $set: { age: 31 } }
)

// Update multiple documents
db.users.updateMany(
  { age: { $lt: 25 } },
  { $set: { status: "young" } }
)

// Replace entire document
db.users.replaceOne(
  { _id: 1 },
  { name: "New Name", email: "new@example.com", age: 30 }
)

// Update operators
db.users.updateOne(
  { _id: 1 },
  {
    $set: { email: "newemail@example.com" },    // set field
    $inc: { age: 1 },                            // increment
    $mul: { score: 1.1 },                        // multiply
    $rename: { "name": "fullName" },             // rename field
    $unset: { tempField: "" },                   // remove field
    $min: { lowScore: 50 },                      // set if lower
    $max: { highScore: 100 },                    // set if higher
    $currentDate: { lastModified: true }         // set current date
  }
)

// Array update operators
db.users.updateOne(
  { _id: 1 },
  {
    $push: { tags: "new-tag" },                  // add to array
    $pull: { tags: "old-tag" },                  // remove from array
    $addToSet: { tags: "unique-tag" },           // add if not exists
    $pop: { tags: 1 }                            // remove last (1) or first (-1)
  }
)

// Upsert (update or insert)
db.users.updateOne(
  { email: "new@example.com" },
  { $set: { name: "New User", age: 25 } },
  { upsert: true }
)</div>

                    <h3>ğŸ—‘ï¸ Delete</h3>
                    <div class="code-block">// Delete single document
db.users.deleteOne({ _id: 1 })

// Delete multiple documents
db.users.deleteMany({ age: { $lt: 18 } })

// Delete all documents in collection
db.users.deleteMany({})

// Old method (deprecated)
db.users.remove({ _id: 1 })
db.users.remove({ age: { $lt: 18 } })</div>

                    <h3>ğŸ’¾ Save Command</h3>
                    <div class="code-block">// Save (insert or update based on _id)
db.users.save({ _id: 1, name: "Updated", email: "updated@example.com" })

// If _id exists - updates
// If _id doesn't exist - inserts</div>

                    <h3>âš¡ Bulk Operations</h3>
                    <div class="code-block">// Unordered bulk operations
var bulk = db.items.initializeUnorderedBulkOp()
bulk.insert({ item: "abc123", qty: 100, status: "A" })
bulk.insert({ item: "ijk123", qty: 200, status: "A" })
bulk.insert({ item: "mop123", qty: 0, status: "P" })
bulk.find({ status: "P" }).update({ $set: { qty: 50 } })
bulk.find({ status: "A" }).remove()
bulk.execute()

// Ordered bulk operations
var bulk = db.items.initializeOrderedBulkOp()
bulk.insert({ item: "xyz123", qty: 50 })
bulk.find({ item: "xyz123" }).updateOne({ $set: { qty: 100 } })
bulk.execute()</div>
                </section>

                <!-- Admin Commands -->
                <section class="section" id="admin">
                    <h2>ğŸ‘¨â€ğŸ’¼ ×¤×§×•×“×•×ª ××“××™× ×™×¡×˜×¨×˜×™×‘×™×•×ª</h2>

                    <h3>ğŸ” Database Statistics</h3>
                    <div class="code-block">// Database stats
db.stats()

// Collection stats
db.collection.stats()

// Server status
db.serverStatus()

// Current operations
db.currentOp()

// Kill operation
db.killOp(opid)

// Check if master
db.isMaster()

// Get last error
db.getLastError()</div>

                    <h3>ğŸ‘¥ User Management</h3>
                    <div class="code-block">// Create user
db.createUser({
  user: "myUser",
  pwd: "myPassword",
  roles: [
    { role: "readWrite", db: "myDatabase" },
    { role: "read", db: "reporting" }
  ]
})

// Update user
db.updateUser("myUser", {
  roles: [
    { role: "dbAdmin", db: "myDatabase" }
  ]
})

// Drop user
db.dropUser("myUser")

// List users
db.getUsers()
show users

// Change password
db.changeUserPassword("myUser", "newPassword")</div>

                    <h3>ğŸ” Roles</h3>
                    <div class="code-block">// Built-in roles:
// Database User Roles:
//   - read
//   - readWrite

// Database Admin Roles:
//   - dbAdmin
//   - dbOwner
//   - userAdmin

// Cluster Admin Roles:
//   - clusterAdmin
//   - clusterManager
//   - clusterMonitor
//   - hostManager

// Backup/Restore Roles:
//   - backup
//   - restore

// All-Database Roles:
//   - readAnyDatabase
//   - readWriteAnyDatabase
//   - userAdminAnyDatabase
//   - dbAdminAnyDatabase

// Superuser Role:
//   - root

// Create custom role
db.createRole({
  role: "customRole",
  privileges: [{
    resource: { db: "myDatabase", collection: "myCollection" },
    actions: ["find", "insert", "update"]
  }],
  roles: []
})</div>

                    <h3>ğŸ”§ Maintenance Commands</h3>
                    <div class="code-block">// Compact collection (reclaim disk space)
db.runCommand({ compact: "collectionName" })

// Repair database
db.repairDatabase()

// Validate collection
db.collection.validate()

// Reindex collection
db.collection.reIndex()

// fsync (flush to disk)
db.fsyncLock()
db.fsyncUnlock()

// Rotate logs
db.adminCommand({ logRotate: 1 })

// Shutdown server
db.shutdownServer()</div>

                    <h3>ğŸ“Š Profiling</h3>
                    <div class="code-block">// Enable profiling
// 0 = off
// 1 = log slow queries (>100ms default)
// 2 = log all queries
db.setProfilingLevel(2)

// Set slow query threshold
db.setProfilingLevel(1, { slowms: 50 })

// Check profiling status
db.getProfilingStatus()

// View profiler data
db.system.profile.find().limit(10).sort({ ts: -1 }).pretty()

// Clear profiler data
db.system.profile.drop()</div>

                    <h3>ğŸ” Explain Query</h3>
                    <div class="code-block">// Explain query execution
db.collection.find({ age: { $gt: 25 } }).explain()

// Detailed explain
db.collection.find({ age: { $gt: 25 } }).explain("executionStats")

// All execution stats
db.collection.find({ age: { $gt: 25 } }).explain("allPlansExecution")</div>
                </section>

                <!-- Kafka Connector -->
                <section class="section" id="kafka">
                    <h2>ğŸ”Œ MongoDB Kafka Connector</h2>

                    <div class="info-box">
                        <h3>××”×• MongoDB Kafka Connector?</h3>
                        <p><strong>Connector ×”×××¤×©×¨ ×©×™×œ×•×‘ ×‘×™×Ÿ MongoDB ×œ-Apache Kafka</strong></p>
                        <ul>
                            <li>×××¤×©×¨ streaming ×©×œ × ×ª×•× ×™× ×-Kafka ×œ-MongoDB</li>
                            <li>×ª×•××š ×’× ×‘-source connector (MongoDB â†’ Kafka)</li>
                            <li>××™× ×˜×’×¨×¦×™×” ×¢× Kafka Connect framework</li>
                        </ul>
                    </div>

                    <h3>×‘×“×™×§×ª Connector Plugins</h3>
                    <div class="code-block">curl -s http://localhost:8083/connector-plugins | jq</div>

                    <h3>×™×¦×™×¨×ª MongoDB Sink Connector</h3>
                    <div class="code-block">curl -X POST http://localhost:8083/connectors \
  -H "Content-Type: application/json" \
  -d '{
    "name": "mongo-sink",
    "config": {
      "connector.class": "com.mongodb.kafka.connect.MongoSinkConnector",
      "tasks.max": "1",
      "topics": "test-topic",
      "connection.uri": "mongodb://mongo:27017",
      "database": "mydb",
      "collection": "events",
      "key.converter": "org.apache.kafka.connect.storage.StringConverter",
      "value.converter": "org.apache.kafka.connect.json.JsonConverter",
      "value.converter.schemas.enable": "false"
    }
  }'</div>

                    <h3>×©×œ×™×—×ª × ×ª×•× ×™× ×œ-Kafka Topic</h3>
                    <div class="code-block">kafka-console-producer.sh \
  --broker-list course-kafka:9092 \
  --topic test-topic

# Enter messages (JSON format):
{"_id": "user-001", "name": "Lev", "email": "lev@example.com"}
{"_id": "user-002", "name": "Danny", "email": "Danny@example.com"}
{"_id": "user-003", "name": "Yoni", "email": "Yoni@example.com"}</div>

                    <h3>×‘×“×™×§×ª ×”× ×ª×•× ×™× ×‘-MongoDB</h3>
                    <div class="code-block">// Connect to MongoDB
docker exec -it mongo mongosh

// Switch to database
use mydb

// View the data
db.events.find().pretty()</div>

                    <h3>×“×•×’××” × ×•×¡×¤×ª - My Trip Collection</h3>
                    <div class="code-block">curl -X POST http://localhost:8083/connectors \
  -H "Content-Type: application/json" \
  -d '{
    "name": "mongo-sink2",
    "config": {
      "connector.class": "com.mongodb.kafka.connect.MongoSinkConnector",
      "tasks.max": "1",
      "topics": "my_trip",
      "connection.uri": "mongodb://mongo:27017",
      "database": "my-trip",
      "collection": "events",
      "key.converter": "org.apache.kafka.connect.storage.StringConverter",
      "value.converter": "org.apache.kafka.connect.json.JsonConverter",
      "value.converter.schemas.enable": "false"
    }
  }'</div>

                    <div class="success-box">
                        <p><strong>ğŸ’¡ Use Cases:</strong></p>
                        <ul>
                            <li>Real-time data streaming ×-Kafka ×œ-MongoDB</li>
                            <li>Event sourcing ×•-CQRS patterns</li>
                            <li>Data pipeline integration</li>
                            <li>Microservices communication</li>
                        </ul>
                    </div>
                </section>

                <!-- Hadoop -->
                <section class="section" id="hadoop">
                    <h2>ğŸ˜ MongoDB ×¢× Hadoop</h2>

                    <div class="info-box">
                        <h3>Operationalized Data Lake</h3>
                        <p><strong>×ª×‘× ×™×ª ×¢×™×¦×•×‘ ×¢×‘×•×¨ data lake ×ª×¤×¢×•×œ×™</strong></p>
                        <ul>
                            <li>×–×¨××™ × ×ª×•× ×™× × ×§×œ×˜×™× ×œ-message queue (pub/sub)</li>
                            <li>×›×œ ×”× ×ª×•× ×™× ×”×’×•×œ××™×™× ×× ×•×ª×‘×™× ×œ-HDFS</li>
                            <li>××™×¨×•×¢×™× ××¢×•×‘×“×™× ×©×“×•×¨×©×™× ×¤×¢×•×œ×•×ª ×‘×–××Ÿ ×××ª ×× ×•×ª×‘×™× ×œ-MongoDB</li>
                            <li>×¦×¨×™×›×” ××™×™×“×™×ª ×¢×œ ×™×“×™ ××¤×œ×™×§×¦×™×•×ª ×ª×¤×¢×•×œ×™×•×ª</li>
                        </ul>
                    </div>

                    <h3>×“×•×’×××•×ª ×œ×©×™××•×©</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>ğŸ›’ E-Commerce</h4>
                            <p>×”×ª×××” ××™×©×™×ª ×©×œ ×”×¦×¢×•×ª ×œ××©×ª××©</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸš— IoT</h4>
                            <p>×”×ª×¨×¢×•×ª ×¢×œ ×˜×œ××˜×¨×™×” ×©×œ ×¨×›×‘</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ“Š Analytics</h4>
                            <p>× ×™×ª×•×— ×–××Ÿ ×××ª + ××—×¡×•×Ÿ ×”×™×¡×˜×•×¨×™</p>
                        </div>
                        <div class="feature-card">
                            <h4>ğŸ”„ ETL</h4>
                            <p>×¢×™×‘×•×“ ×•×©×™× ×•×™ × ×ª×•× ×™× ×‘×–××Ÿ ×××ª</p>
                        </div>
                    </div>

                    <h3>MongoDB Connector for Hadoop</h3>
                    <div class="code-block">// Add MongoDB Hadoop connector to your project
// Maven dependency
<dependency>
  <groupId>org.mongodb.mongo-hadoop</groupId>
  <artifactId>mongo-hadoop-core</artifactId>
  <version>2.0.2</version>
</dependency>

// Gradle
implementation 'org.mongodb.mongo-hadoop:mongo-hadoop-core:2.0.2'</div>

                    <div class="success-box">
                        <p><strong>ğŸ’¡ ×™×ª×¨×•× ×•×ª:</strong></p>
                        <ul>
                            <li>×©×™×œ×•×‘ ×‘×™×Ÿ batch processing (Hadoop) ×•-real-time (MongoDB)</li>
                            <li>× ×™×¦×•×œ ×”×—×•×–×§×•×ª ×©×œ ×©× ×™ ×”×¢×•×œ××•×ª</li>
                            <li>Data lake ×¢× operational capabilities</li>
                            <li>×’××™×©×•×ª ×‘×¢×™×‘×•×“ ×•××—×¡×•×Ÿ × ×ª×•× ×™×</li>
                        </ul>
                    </div>
                </section>

                <!-- ×ª×¨×’×™×œ×™× -->
                <section class="section" id="exercises">
                    <h2>ğŸ’ª ×ª×¨×’×™×œ×™× ××¢×©×™×™×</h2>

                    <h3>×ª×¨×’×™×œ 1: ×”×ª×§× ×” ×•×˜×¢×™× ×ª × ×ª×•× ×™×</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×™×™×‘×•× × ×ª×•× ×™× ××§×•×‘×¥ JSON ×œ-MongoDB</p>
                        <ol style="padding-right: 25px;">
                            <li>×‘×¦×¢ ×”×ª×§× ×” ×©×œ MongoDB</li>
                            <li>×™×™×‘× ××ª ×›×œ ×”× ×ª×•× ×™× ××§×•×‘×¥ <code>products.json</code></li>
                            <li>×‘×“×•×§ ×©×”× ×ª×•× ×™× × ×˜×¢× ×•</li>
                        </ol>
                    </div>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">// Import JSON file
mongoimport --db mydb --collection products --file products.json --jsonArray

// Verify import
mongo
use mydb
db.products.count()
db.products.findOne()</div>
                    </div>

                    <h3>×ª×¨×’×™×œ 2: Queries ×‘×¡×™×¡×™×•×ª</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×ª×¨×’×•×œ queries ×¢× operators ×©×•× ×™×</p>
                        <p>×‘× ×” ×©××™×œ×ª×•×ª ×œ×¢× ×•×ª ×¢×œ ×”×“×‘×¨×™× ×”×‘××™×:</p>
                    </div>

                    <h4>×. ×”×—×–×¨ ×¨×©×•××•×ª ×¢× type = "service"</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.products.find({ type: "service" })</div>
                    </div>

                    <h4>×‘. ××¡×¤×¨ ×¤×¨×™×˜×™× ×¢× price × ××•×š ×-100</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.products.find({ price: { $lt: 100 } }).count()
// ××•
db.products.countDocuments({ price: { $lt: 100 } })</div>
                    </div>

                    <h4>×’. ×¤×¨×™×˜×™× ×©×”-name ××›×™×œ "AC3" ×•-brand = "ACME"</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.products.find({
  name: /AC3/,
  brand: "ACME"
})</div>
                    </div>

                    <h4>×“. ×¤×¨×™×˜×™× ×¢× warranty_years > 0 ×•-price < 100</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.products.find({
  warranty_years: { $gt: 0 },
  price: { $lt: 100 }
}).count()</div>
                    </div>

                    <h3>×ª×¨×’×™×œ 3: ×¢×‘×•×“×” ×¢× Aviation Data + Indexes</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×”×‘× ×ª ×”×—×©×™×‘×•×ª ×©×œ indexes ×œ×‘×™×¦×•×¢×™×</p>
                    </div>

                    <h4>×©×œ×‘ 1: ×™×™×‘×•× ×”× ×ª×•× ×™×</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">// Import CSV file
mongoimport --db mydb --collection aviation \
  --type csv --headerline --file Aviation_data.csv</div>
                    </div>

                    <h4>×©×œ×‘ 2: ×‘×“×•×§ ×©×”× ×ª×•× ×™× × ×˜×¢× ×•</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.findOne()
db.aviation.count()</div>
                    </div>

                    <h4>×©×œ×‘ 3: ××¡×¤×¨ ×ª××•× ×•×ª ×‘××¨×”"×‘ (×œ×œ× index)</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.find({ Country: "United States" }).count()</div>
                    </div>

                    <h4>×©×œ×‘ 4: ×›××” documents × ×¡×¨×§×•? (×œ×œ× index)</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.find({ Country: "United States" }).explain("executionStats")

// Look for:
// - totalDocsExamined (×›××” documents × ×¡×¨×§×•)
// - executionTimeMillis (×–××Ÿ ×‘×™×¦×•×¢)
// - stage: "COLLSCAN" (collection scan - ×œ× ×˜×•×‘!)</div>
                    </div>

                    <h4>×©×œ×‘ 5: ×”×•×¡×£ index ×¢×œ Country</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.createIndex({ Country: 1 })</div>
                    </div>

                    <h4>×©×œ×‘ 6: ×‘×“×•×§ ×©×•×‘ - ×›××” documents × ×¡×¨×§×•? (×¢× index)</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.find({ Country: "United States" }).explain("executionStats")

// ×¢×›×©×™×• ×ª×¨××”:
// - totalDocsExamined ×”×¨×‘×” ×™×•×ª×¨ ×§×˜×Ÿ!
// - stage: "IXSCAN" (index scan - ×˜×•×‘!)
// - executionTimeMillis ×”×¨×‘×” ×™×•×ª×¨ × ××•×š!</div>
                    </div>

                    <h4>×©×œ×‘ 7: ×¨×©×™××ª ×›×œ ×”-indexes</h4>
                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">db.aviation.getIndexes()

// Output ×™×¨××”:
// [
//   { v: 2, key: { _id: 1 }, name: "_id_" },      // Default
//   { v: 2, key: { Country: 1 }, name: "Country_1" }  // ×©×œ× ×•!
// ]</div>
                    </div>

                    <h3>×ª×¨×’×™×œ 4: Compound Index</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×œ××“ ××™×š compound index ××©×¤×¨ queries ×¢× ××¡×¤×¨ ×©×“×•×ª</p>
                        <p>××•×¤×˜×™××™×–×¦×™×” ×©×œ queries ×¢×œ ×©× ×™ ×©×“×•×ª:</p>
                    </div>

                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">// Create compound index
db.aviation.createIndex({
  Aircraft_Category: 1,
  Broad_Phase_of_Flight: 1
})

// Query using both fields
db.aviation.find({
  Aircraft_Category: "Airplane",
  Broad_Phase_of_Flight: "APPROACH"
})

// Verify optimization
db.aviation.find({
  Aircraft_Category: "Airplane",
  Broad_Phase_of_Flight: "APPROACH"
}).explain("executionStats")

// Index ×ª×•××š ×’× ×‘queries ×¨×§ ×¢×œ Aircraft_Category
// ××‘×œ ×œ× ×¨×§ ×¢×œ Broad_Phase_of_Flight (×¡×“×¨ ×—×©×•×‘!)</div>
                    </div>

                    <h3>×ª×¨×’×™×œ 5: ×™×¦×™×¨×” ×•×¢×“×›×•×Ÿ - Authors Collection</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×ª×¨×’×•×œ insert, update, ×•×¢×‘×•×“×” ×¢× arrays</p>
                        <p>×¦×•×¨ collection ×©×œ ××—×‘×¨×™× ×•×¢×“×›×Ÿ ××•×ª×:</p>
                    </div>

                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ ××œ×</button>
                    <div class="solution-content">
                        <div class="code-block">// Create new database and collection
use bookstore

// Insert authors with genres array
db.authors.insertMany([
  {
    name: "Isaac Asimov",
    genres: ["Science Fiction", "Mystery", "Essay"],
    books: 500,
    born: 1920
  },
  {
    name: "Agatha Christie",
    genres: ["Mystery", "Crime", "Romance"],
    books: 66,
    born: 1890
  }
])

// Update single document - ×ª×§×Ÿ ××¡×¤×¨ ×¡×¤×¨×™×
db.authors.updateOne(
  { name: "Isaac Asimov" },
  { $set: { books: 506 } }
)

// Update multiple documents - ×¡××Ÿ ×§×œ××¡×™×§×•×ª
db.authors.updateMany(
  { born: { $lt: 1900 } },
  { $set: { classic: true } }
)

// Add to array - ×”×•×¡×£ ×–'×× ×¨
db.authors.updateOne(
  { name: "Agatha Christie" },
  { $push: { genres: "Thriller" } }
)

// Verify
db.authors.find().pretty()</div>
                    </div>

                    <h3>×ª×¨×’×™×œ 6: ××—×™×§×” ×•× ×§×™×•×Ÿ</h3>
                    <div class="warning-box">
                        <p><strong>âš ï¸ ×–×”×™×¨×•×ª:</strong> ×¤×¢×•×œ×•×ª ××—×™×§×” ×”×Ÿ ×‘×œ×ª×™ ×”×¤×™×›×•×ª!</p>
                        <p>×ª×¨×’×™×œ ×–×” ××œ××“ ××™×š ×œ× ×§×•×ª databases ×•-collections.</p>
                    </div>

                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">// Delete all documents in collection
db.authors.deleteMany({})
// Collection ×¢×“×™×™×Ÿ ×§×™×™×, ×¨×§ ×¨×™×§

// Drop collection (××—×™×§×” ××œ××”)
db.authors.drop()

// Drop database (××—×™×§×ª ×›×œ ×”database!)
use bookstore
db.dropDatabase()

// Verify
show dbs  // bookstore ×œ× ×¦×¨×™×š ×œ×”×™×•×ª ×‘×¨×©×™××”</div>
                    </div>

                    <h3 style="margin-top: 40px;">×ª×¨×’×™×œ 7: Aggregation Pipeline</h3>
                    <div class="info-box">
                        <p><strong>××˜×¨×”:</strong> ×œ××“ aggregation ×œ× ×™×ª×•×— × ×ª×•× ×™× ××ª×§×“×</p>
                        <p>×—×–×•×¨ ×œ-products collection ×•×—×©×‘ ×¡×˜×˜×™×¡×˜×™×§×•×ª:</p>
                    </div>

                    <button class="solution-toggle" onclick="toggleSolution(this)">ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ</button>
                    <div class="solution-content">
                        <div class="code-block">use mydb

// 1. Average price per type
db.products.aggregate([
  {
    $group: {
      _id: "$type",
      avgPrice: { $avg: "$price" },
      count: { $sum: 1 }
    }
  },
  { $sort: { avgPrice: -1 } }
])

// 2. Count products by brand
db.products.aggregate([
  {
    $group: {
      _id: "$brand",
      totalProducts: { $sum: 1 },
      totalValue: { $sum: "$price" }
    }
  }
])

// 3. Products with warranty > 0, grouped by type
db.products.aggregate([
  { $match: { warranty_years: { $gt: 0 } } },
  {
    $group: {
      _id: "$type",
      count: { $sum: 1 },
      maxWarranty: { $max: "$warranty_years" }
    }
  }
])</div>
                    </div>

                    <div class="success-box" style="margin-top: 40px;">
                        <p><strong>ğŸ‰ ×›×œ ×”×›×‘×•×“!</strong> ×”×©×œ××ª ××ª ×›×œ ×”×ª×¨×’×™×œ×™×!</p>
                        <p>×¢×›×©×™×• ××ª×” ××•×›×Ÿ ×œ×¢×‘×•×“ ×¢× MongoDB ×‘×¤×¨×•×™×§×˜×™× ×××™×ª×™×™×!</p>
                        <ul style="margin-top: 15px;">
                            <li>âœ… ×™×™×‘×•× × ×ª×•× ×™× (CSV & JSON)</li>
                            <li>âœ… Queries ×¢× operators</li>
                            <li>âœ… ×¢×‘×•×“×” ×¢× Indexes</li>
                            <li>âœ… Compound Indexes</li>
                            <li>âœ… Update operations</li>
                            <li>âœ… Delete operations</li>
                            <li>âœ… Aggregation Pipeline</li>
                        </ul>
                    </div>
                </section>

                <!-- Troubleshooting -->
                <section class="section" id="troubleshooting">
                    <h2>ğŸ”§ ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª ×‘-MongoDB</h2>

                    <h3>âŒ Connection Refused / Cannot Connect</h3>
                    <div class="warning-box">
                        <h4>×¡×™××¤×˜×•××™×:</h4>
                        <ul>
                            <li>Error: "connection refused"</li>
                            <li>Cannot connect to MongoDB</li>
                            <li>Timeout errors</li>
                        </ul>
                    </div>

                    <div class="success-box">
                        <h4>âœ… ×¤×ª×¨×•× ×•×ª:</h4>

                        <h5>1. ×‘×“×•×§ ×©-MongoDB ×¨×¥:</h5>
                        <div class="code-block">// Check MongoDB process
ps aux | grep mongod

// Check MongoDB status (systemd)
sudo systemctl status mongod

// With Docker
docker ps | grep mongo</div>

                        <h5 style="margin-top: 20px;">2. ×‘×“×•×§ Port:</h5>
                        <div class="code-block">// Check if MongoDB listening on port 27017
netstat -tlnp | grep 27017
sudo lsof -i :27017

// Test connection
telnet localhost 27017</div>

                        <h5 style="margin-top: 20px;">3. ×‘×“×•×§ Configuration:</h5>
                        <div class="code-block">// Check mongod.conf
cat /etc/mongod.conf

# Look for:
net:
  port: 27017
  bindIp: 0.0.0.0  # Listen on all interfaces
  # Or
  bindIp: localhost  # Only local connections</div>

                        <h5 style="margin-top: 20px;">4. ×‘×“×•×§ Logs:</h5>
                        <div class="code-block">// MongoDB logs location
tail -f /var/log/mongodb/mongod.log

// Docker logs
docker logs mongodb</div>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸŒ Queries ××™×˜×™×•×ª</h3>
                    <div class="warning-box">
                        <h4>×¡×™××¤×˜×•××™×:</h4>
                        <ul>
                            <li>Queries ×œ×•×§×—×•×ª ×–××Ÿ ×¨×‘</li>
                            <li>CPU usage ×’×‘×•×”</li>
                            <li>×ª×’×•×‘×” ××™×˜×™×ª ×©×œ Application</li>
                        </ul>
                    </div>

                    <div class="success-box">
                        <h4>âœ… Debug & Fix:</h4>

                        <h5>1. Analyze Query ×¢× explain():</h5>
                        <div class="code-block">// Check query execution
db.collection.find({ field: value }).explain("executionStats")

// Look for:
// - executionTimeMillis (×–××Ÿ)
// - totalDocsExamined (×›××” documents × ×¡×¨×§×•)
// - totalKeysExamined (×›××” index keys)
// - executionStages.stage (COLLSCAN = ×¨×¢, IXSCAN = ×˜×•×‘)</div>

                        <h5 style="margin-top: 20px;">2. ×”×•×¡×£ Index:</h5>
                        <div class="code-block">// Create index on frequently queried fields
db.collection.createIndex({ field: 1 })

// Compound index for multi-field queries
db.collection.createIndex({ field1: 1, field2: -1 })</div>

                        <h5 style="margin-top: 20px;">3. Enable Profiling:</h5>
                        <div class="code-block">// Log slow queries (>100ms)
db.setProfilingLevel(1, { slowms: 100 })

// View slow queries
db.system.profile.find().sort({ ts: -1 }).limit(10).pretty()</div>

                        <h5 style="margin-top: 20px;">4. ××•×¤×˜×™××™×–×¦×™×•×ª:</h5>
                        <div class="code-block">// Use projection (select only needed fields)
db.users.find(
  { age: { $gt: 25 } },
  { name: 1, email: 1, _id: 0 }  // Only these fields
)

// Limit results
db.users.find().limit(100)

// Use covered queries (index contains all fields)
db.users.createIndex({ name: 1, email: 1 })
db.users.find(
  { name: "John" },
  { name: 1, email: 1, _id: 0 }
).hint({ name: 1, email: 1 })</div>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸ’¾ Disk Space Issues</h3>
                    <div class="warning-box">
                        <h4>×¡×™××¤×˜×•××™×:</h4>
                        <ul>
                            <li>MongoDB crashes</li>
                            <li>Cannot write to database</li>
                            <li>"No space left on device"</li>
                        </ul>
                    </div>

                    <div class="success-box">
                        <h4>âœ… ×¤×ª×¨×•× ×•×ª:</h4>

                        <h5>1. ×‘×“×•×§ Disk Usage:</h5>
                        <div class="code-block">// Check disk space
df -h

// Check MongoDB data size
db.stats()
db.collection.stats()</div>

                        <h5 style="margin-top: 20px;">2. × ×§×” Databases/Collections:</h5>
                        <div class="code-block">// Drop unused databases
use oldDatabase
db.dropDatabase()

// Drop old collections
db.oldCollection.drop()

// Remove old documents
db.logs.deleteMany({ createdAt: { $lt: new Date("2023-01-01") } })</div>

                        <h5 style="margin-top: 20px;">3. Compact Collections:</h5>
                        <div class="code-block">// Reclaim disk space (blocks reads/writes!)
db.runCommand({ compact: "collectionName" })

// Or repair database (longer, more thorough)
db.repairDatabase()</div>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸ”´ Replica Set Issues</h3>
                    <div class="warning-box">
                        <h4>×‘×¢×™×•×ª × ×¤×•×¦×•×ª:</h4>
                        <ul>
                            <li>Secondary not syncing</li>
                            <li>No Primary elected</li>
                            <li>Replica lag</li>
                        </ul>
                    </div>

                    <div class="success-box">
                        <h4>âœ… Debug Steps:</h4>

                        <h5>1. ×‘×“×•×§ Status:</h5>
                        <div class="code-block">// Check replica set status
rs.status()

// Check configuration
rs.conf()

// Check replication lag
rs.printReplicationInfo()
rs.printSlaveReplicationInfo()</div>

                        <h5 style="margin-top: 20px;">2. ×¤×ª×¨×•× ×•×ª:</h5>
                        <div class="code-block">// Reconfigure replica set
rs.reconfig(config)

// Step down primary (force new election)
rs.stepDown()

// Re-sync secondary (remove and add back)
rs.remove("mongodb2.example.com:27017")
rs.add("mongodb2.example.com:27017")</div>
                    </div>

                    <div class="info-box" style="margin-top: 40px;">
                        <h4>ğŸ” Debug Checklist</h4>
                        <ol>
                            <li>âœ… MongoDB process ×¨×¥?</li>
                            <li>âœ… Port 27017 ×¤×ª×•×—?</li>
                            <li>âœ… bindIp ××•×’×“×¨ × ×›×•×Ÿ?</li>
                            <li>âœ… Disk space ×¤× ×•×™?</li>
                            <li>âœ… RAM ××¡×¤×™×§?</li>
                            <li>âœ… Indexes ×§×™×™××™× ×œqueries?</li>
                            <li>âœ… Replica set healthy?</li>
                        </ol>
                    </div>
                </section>

                <!-- Quick Reference -->
                <section class="section" id="quickref">
                    <h2>ğŸ“‹ Quick Reference</h2>

                    <h3>ğŸ” Query Operators</h3>
                    <table class="reference-table">
                        <thead>
                            <tr>
                                <th>Operator</th>
                                <th>×ª×™××•×¨</th>
                                <th>×“×•×’××”</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>$eq</code></td>
                                <td>×©×•×•×” ×œ</td>
                                <td><code>{ age: { $eq: 25 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$ne</code></td>
                                <td>×œ× ×©×•×•×” ×œ</td>
                                <td><code>{ status: { $ne: "inactive" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$gt / $gte</code></td>
                                <td>×’×“×•×œ × / ×’×“×•×œ ××• ×©×•×•×”</td>
                                <td><code>{ price: { $gt: 100 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$lt / $lte</code></td>
                                <td>×§×˜×Ÿ × / ×§×˜×Ÿ ××• ×©×•×•×”</td>
                                <td><code>{ age: { $lt: 30 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$in</code></td>
                                <td>× ××¦× ×‘×¨×©×™××”</td>
                                <td><code>{ status: { $in: ["A", "B"] } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$nin</code></td>
                                <td>×œ× × ××¦× ×‘×¨×©×™××”</td>
                                <td><code>{ status: { $nin: ["X", "Y"] } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$exists</code></td>
                                <td>×©×“×” ×§×™×™×</td>
                                <td><code>{ email: { $exists: true } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$type</code></td>
                                <td>×˜×™×¤×•×¡ ×©×“×”</td>
                                <td><code>{ age: { $type: "number" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$regex</code></td>
                                <td>Regular expression</td>
                                <td><code>{ name: { $regex: "^A" } }</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin-top: 40px;">ğŸ“ Update Operators</h3>
                    <table class="reference-table">
                        <thead>
                            <tr>
                                <th>Operator</th>
                                <th>×ª×™××•×¨</th>
                                <th>×“×•×’××”</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>$set</code></td>
                                <td>×”×’×“×¨ ×¢×¨×š ×©×“×”</td>
                                <td><code>{ $set: { age: 30 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$unset</code></td>
                                <td>×”×¡×¨ ×©×“×”</td>
                                <td><code>{ $unset: { temp: "" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$inc</code></td>
                                <td>×”×•×¡×£ ××¡×¤×¨ (increment)</td>
                                <td><code>{ $inc: { views: 1 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$mul</code></td>
                                <td>×”×›×¤×œ ×‘</td>
                                <td><code>{ $mul: { price: 1.1 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$rename</code></td>
                                <td>×©× ×” ×©× ×©×“×”</td>
                                <td><code>{ $rename: { "old": "new" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$min / $max</code></td>
                                <td>×¢×“×›×Ÿ ×¨×§ ×× ×§×˜×Ÿ/×’×“×•×œ ×™×•×ª×¨</td>
                                <td><code>{ $min: { score: 50 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$currentDate</code></td>
                                <td>×”×’×“×¨ ×œ×ª××¨×™×š × ×•×›×—×™</td>
                                <td><code>{ $currentDate: { updated: true } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$push</code></td>
                                <td>×”×•×¡×£ ×œarray</td>
                                <td><code>{ $push: { tags: "new" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$pull</code></td>
                                <td>×”×¡×¨ ×array</td>
                                <td><code>{ $pull: { tags: "old" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$addToSet</code></td>
                                <td>×”×•×¡×£ ×œarray (×™×™×—×•×“×™)</td>
                                <td><code>{ $addToSet: { tags: "tag" } }</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin-top: 40px;">ğŸ“Š Aggregation Pipeline Stages</h3>
                    <table class="reference-table">
                        <thead>
                            <tr>
                                <th>Stage</th>
                                <th>×ª×™××•×¨</th>
                                <th>×“×•×’××”</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>$match</code></td>
                                <td>×¡×™× ×•×Ÿ documents</td>
                                <td><code>{ $match: { age: { $gt: 25 } } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$project</code></td>
                                <td>×‘×—×™×¨×ª ×©×“×•×ª</td>
                                <td><code>{ $project: { name: 1, age: 1 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$group</code></td>
                                <td>×§×™×‘×•×¥ ×œ×¤×™ field</td>
                                <td><code>{ $group: { _id: "$city", total: { $sum: 1 } } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$sort</code></td>
                                <td>××™×•×Ÿ</td>
                                <td><code>{ $sort: { age: -1 } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$limit</code></td>
                                <td>×”×’×‘×œ×ª ×ª×•×¦××•×ª</td>
                                <td><code>{ $limit: 10 }</code></td>
                            </tr>
                            <tr>
                                <td><code>$skip</code></td>
                                <td>×“×™×œ×•×’ ×¢×œ ×ª×•×¦××•×ª</td>
                                <td><code>{ $skip: 5 }</code></td>
                            </tr>
                            <tr>
                                <td><code>$lookup</code></td>
                                <td>Join ×¢× collection ××—×¨</td>
                                <td><code>{ $lookup: { from: "orders", localField: "_id", foreignField: "userId", as: "userOrders" } }</code></td>
                            </tr>
                            <tr>
                                <td><code>$unwind</code></td>
                                <td>×¤×™×¨×•×§ array</td>
                                <td><code>{ $unwind: "$tags" }</code></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin-top: 40px;">ğŸ¯ Common Patterns</h3>

                    <h4>Pagination:</h4>
                    <div class="code-block">// Page 1 (skip 0, limit 10)
db.products.find().skip(0).limit(10)

// Page 2 (skip 10, limit 10)
db.products.find().skip(10).limit(10)

// Better for large collections - use range query on _id
db.products.find({ _id: { $gt: lastSeenId } }).limit(10)</div>

                    <h4>Search Pattern:</h4>
                    <div class="code-block">// Case-insensitive search
db.products.find({ name: { $regex: "laptop", $options: "i" } })

// Starts with
db.products.find({ name: /^AC/ })

// Contains
db.products.find({ name: /pattern/ })

// Text search (requires text index)
db.products.createIndex({ name: "text", description: "text" })
db.products.find({ $text: { $search: "mongodb tutorial" } })</div>

                    <h4>Upsert Pattern:</h4>
                    <div class="code-block">// Update if exists, insert if not
db.users.updateOne(
  { email: "user@example.com" },
  { $set: { name: "User", lastLogin: new Date() } },
  { upsert: true }
)</div>
                </section>

                <!-- Best Practices -->
                <section class="section" id="bestpractices">
                    <h2>âœ¨ MongoDB Best Practices</h2>

                    <h3>ğŸ—ï¸ Schema Design</h3>
                    <div class="success-box">
                        <h4>âœ… Best Practices:</h4>
                        <ul>
                            <li><strong>Embed vs Reference:</strong>
                                <ul>
                                    <li>Embed: × ×ª×•× ×™× ×©× ×§×¨××™× ×‘×™×—×“ (1-to-1, 1-to-few)</li>
                                    <li>Reference: × ×ª×•× ×™× ×¢×¦×××™×™× ××• 1-to-many ×¨×‘</li>
                                </ul>
                            </li>
                            <li><strong>×”×™×× ×¢ ×documents ×’×“×•×œ×™× ××“×™:</strong> max 16MB</li>
                            <li><strong>×©×§×•×œ ××ª access patterns:</strong> ××™×š ×”××¤×œ×™×§×¦×™×” ×§×•×¨××ª ××ª ×”× ×ª×•× ×™×?</li>
                            <li><strong>Denormalization:</strong> ×›×¤×™×œ×•×ª ××•×ª×¨×ª ×× ××©×¤×¨×ª performance</li>
                        </ul>
                    </div>

                    <h4>×“×•×’××” - Embed vs Reference:</h4>
                    <div class="code-block">// âœ… Embed - 1-to-few (user addresses)
{
  _id: 1,
  name: "John",
  addresses: [
    { street: "123 Main St", city: "NYC" },
    { street: "456 Park Ave", city: "LA" }
  ]
}

// âœ… Reference - 1-to-many (user orders)
// Users collection
{ _id: 1, name: "John" }

// Orders collection
{ _id: 101, userId: 1, total: 50.00 }
{ _id: 102, userId: 1, total: 75.00 }</div>

                    <h3 style="margin-top: 40px;">ğŸ” Indexing Best Practices</h3>
                    <div class="success-box">
                        <ul>
                            <li><strong>×¦×•×¨ indexes ×œqueries ×ª×›×•×¤×™×</strong> (×‘×“×•×§ ×¢× explain)</li>
                            <li><strong>ESR Rule:</strong> Equality, Sort, Range - ×¡×“×¨ ×”×©×“×•×ª ×‘-compound index</li>
                            <li><strong>×”×™×× ×¢ ××™×•×ª×¨ ××“×™ indexes:</strong> ×××˜ writes!</li>
                            <li><strong>Use covered queries:</strong> index ××›×™×œ ××ª ×›×œ ×”×©×“×•×ª ×”×“×¨×•×©×™×</li>
                            <li><strong>××—×§ indexes ×œ× ×‘×©×™××•×©</strong></li>
                            <li><strong>× ×˜×¨ index usage:</strong> <code>$indexStats</code></li>
                        </ul>
                    </div>

                    <h4>ESR Rule ×“×•×’××”:</h4>
                    <div class="code-block">// Query: Find active users, sorted by age, in age range
db.users.find({
  status: "active",      // Equality
  age: { $gte: 25, $lte: 40 }  // Range
}).sort({ age: 1 })      // Sort

// Optimal index (E-S-R order):
db.users.createIndex({
  status: 1,   // E - Equality first
  age: 1       // S + R - Sort and Range together
})</div>

                    <h3 style="margin-top: 40px;">âš¡ Performance Optimization</h3>
                    <div class="info-box">
                        <h4>Write Performance:</h4>
                        <ul>
                            <li>×”×©×ª××© ×‘-<strong>Bulk Operations</strong> ×œ×›××•×™×•×ª ×’×“×•×œ×•×ª</li>
                            <li>×”×¤×—×ª ××¡×¤×¨ <strong>indexes</strong> (×›×œ index = overhead)</li>
                            <li>×”×©×ª××© ×‘-<strong>Unordered Bulk</strong> ×œparallel writes</li>
                            <li>×©×§×•×œ <strong>Write Concern</strong> × ××•×š ×™×•×ª×¨ (w:1) ×× ×œ× ×§×¨×™×˜×™</li>
                        </ul>

                        <h4 style="margin-top: 20px;">Read Performance:</h4>
                        <ul>
                            <li>×¦×•×¨ <strong>indexes</strong> ×œqueries ×ª×›×•×¤×™×</li>
                            <li>×”×©×ª××© ×‘-<strong>projection</strong> (×¨×§ ×©×“×•×ª × ×“×¨×©×™×)</li>
                            <li>×”×©×ª××© ×‘-<strong>limit()</strong> ×œ×”×’×‘×œ×ª ×ª×•×¦××•×ª</li>
                            <li><strong>Covered queries</strong> - ×”×›×™ ××”×™×¨×™×!</li>
                            <li>×©×§×•×œ <strong>Read Preference</strong> ×œsecondaries</li>
                        </ul>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸ”’ Security Best Practices</h3>
                    <div class="warning-box">
                        <h4>âš ï¸ Production Security:</h4>
                        <ul style="list-style: none; padding: 0;">
                            <li>â˜ <strong>Authentication:</strong> enable auth, create users</li>
                            <li>â˜ <strong>Authorization:</strong> roles ×‘×¢×œ×™ ×”×¨×©××•×ª ××™× ×™××œ×™×•×ª</li>
                            <li>â˜ <strong>Encryption in Transit:</strong> SSL/TLS</li>
                            <li>â˜ <strong>Encryption at Rest:</strong> encrypted storage engine</li>
                            <li>â˜ <strong>Network Security:</strong> bindIp, firewall</li>
                            <li>â˜ <strong>Audit Logging:</strong> ×¢×§×•×‘ ××—×¨×™ ×¤×¢×™×œ×•×ª</li>
                            <li>â˜ <strong>Regular Backups:</strong> mongodump / snapshots</li>
                            <li>â˜ <strong>Updates:</strong> ×ª××™×“ ×’×¨×¡×” ×¢×“×›× ×™×ª</li>
                        </ul>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸ’¾ Backup & Recovery</h3>
                    <div class="code-block">// mongodump - backup entire database
mongodump --db mydb --out /backup/

// mongorestore - restore database
mongorestore --db mydb /backup/mydb/

// Backup specific collection
mongodump --db mydb --collection users --out /backup/

// Backup with query
mongodump --db mydb --collection logs \
  --query '{"createdAt": {"$gt": {"$date": "2024-01-01"}}}'

// Export to JSON
mongoexport --db mydb --collection users --out users.json

// Import from JSON
mongoimport --db mydb --collection users --file users.json</div>

                    <h3 style="margin-top: 40px;">ğŸ¯ Production Checklist</h3>
                    <div class="success-box">
                        <h4>×œ×¤× ×™ Deploy:</h4>
                        <ul style="list-style: none; padding: 0; font-size: 1.05rem;">
                            <li>â˜ <strong>Replica Set:</strong> ×œ×¤×—×•×ª 3 members</li>
                            <li>â˜ <strong>Authentication:</strong> enabled + strong passwords</li>
                            <li>â˜ <strong>Indexes:</strong> × ×•×¦×¨×• ×œ×›×œ queries ×ª×›×•×¤×™×</li>
                            <li>â˜ <strong>Monitoring:</strong> setup (Cloud Manager / Ops Manager)</li>
                            <li>â˜ <strong>Backups:</strong> automated backups configured</li>
                            <li>â˜ <strong>Sharding:</strong> ×× dataset ×’×“×•×œ (>100GB)</li>
                            <li>â˜ <strong>Connection Pooling:</strong> ××•×’×“×¨ ×‘××¤×œ×™×§×¦×™×”</li>
                            <li>â˜ <strong>Write/Read Concerns:</strong> ××•×’×“×¨×™× × ×›×•×Ÿ</li>
                            <li>â˜ <strong>Disk Space:</strong> ××ª×•×›× ×Ÿ ×œ×¦××™×—×”</li>
                            <li>â˜ <strong>Network:</strong> low latency ×‘×™×Ÿ replica members</li>
                            <li>â˜ <strong>Testing:</strong> load testing ×‘×•×¦×¢</li>
                        </ul>
                    </div>

                    <h3 style="margin-top: 40px;">ğŸ“š ××©××‘×™× × ×•×¡×¤×™×</h3>
                    <div class="info-box">
                        <ul>
                            <li><strong>Documentation:</strong> docs.mongodb.com</li>
                            <li><strong>University:</strong> learn.mongodb.com (×§×•×¨×¡×™× ×—×™× ××™×™×!)</li>
                            <li><strong>Community:</strong> MongoDB Community Forums</li>
                            <li><strong>GitHub:</strong> github.com/mongodb</li>
                            <li><strong>Blog:</strong> mongodb.com/blog</li>
                            <li><strong>Certification:</strong> MongoDB Certified Developer/DBA</li>
                        </ul>
                    </div>
                </section>

            </main>
        </div>
    </div>

    <div class="copy-notification" id="copyNotification">
        âœ… ×”×•×¢×ª×§ ×œ×œ×•×—!
    </div>

    <script>
        // Navigation
        function switchSection(sectionId) {
            // Remove active from all buttons and sections
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));

            // Add active to clicked button
            event.currentTarget.classList.add('active');

            // Show section
            document.getElementById(sectionId).classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Copy code blocks
        document.querySelectorAll('.code-block').forEach(code => {
            code.addEventListener('click', () => {
                navigator.clipboard.writeText(code.textContent).then(() => {
                    const notification = document.getElementById('copyNotification');
                    notification.classList.add('show');
                    setTimeout(() => notification.classList.remove('show'), 2000);
                });
            });
            code.title = '×œ×—×¥ ×œ×”×¢×ª×§×”';
        });

        // Search
        const searchInput = document.getElementById('searchInput');
        const allSections = document.querySelectorAll('.section');
        const allContent = document.querySelectorAll('.section *');

        const originalContent = new Map();
        allContent.forEach(el => {
            originalContent.set(el, el.innerHTML);
        });

        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();

            if (searchTerm === '') {
                allContent.forEach(el => {
                    el.innerHTML = originalContent.get(el);
                });
                allSections.forEach(section => section.classList.remove('active'));
                document.getElementById('intro').classList.add('active');
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                document.querySelector('.nav-item[data-section="intro"]').classList.add('active');
                return;
            }

            let hasResults = false;
            allSections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    section.classList.add('active');
                    hasResults = true;

                    // Highlight
                    section.querySelectorAll('p, li, h3, h4').forEach(el => {
                        const original = originalContent.get(el);
                        if (original && el.textContent.toLowerCase().includes(searchTerm)) {
                            const regex = new RegExp(`(${searchTerm})`, 'gi');
                            el.innerHTML = original.replace(regex, '<span class="highlight">$1</span>');
                        }
                    });
                } else {
                    section.classList.remove('active');
                }
            });

            if (hasResults) {
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'f') {
                e.preventDefault();
                searchInput.focus();
            }
            if (e.key === 'Escape') {
                searchInput.value = '';
                searchInput.dispatchEvent(new Event('input'));
            }
        });

        /* === DARK MODE === */
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            const btn = document.getElementById('darkModeToggle');
            btn.textContent = isDark ? 'â˜€ï¸ ××¦×‘ ×™×•×' : 'ğŸŒ™ ××¦×‘ ×œ×™×œ×”';
            localStorage.setItem('darkMode', isDark);
        }

        // Load dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            document.getElementById('darkModeToggle').textContent = 'â˜€ï¸ ××¦×‘ ×™×•×';
        }

        /* === SOLUTION TOGGLE === */
        function toggleSolution(button) {
            const content = button.nextElementSibling;
            content.classList.toggle('show');
            button.textContent = content.classList.contains('show') ? 'ğŸ”’ ×”×¡×ª×¨ ×¤×ª×¨×•×Ÿ' : 'ğŸ”“ ×”×¦×’ ×¤×ª×¨×•×Ÿ';
        }
    </script>
</body>
</html>
